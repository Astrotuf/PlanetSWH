import{d as tr,u as ya,a as ba,l as m,b as er,t as Le,c as _n,i as nr,e as wa,f as Be,g as Je,h as Et,s as Qe,G as rr,m as Ea,j as Sa,k as Fe,n as ae,o as ar,p as mn,q as ka,r as ir,v as sr,w as xa,x as Pe,y as gn,z as Ra,A as Ta,B as or,C as Ia,D as St,E as Ft,F as cr,H as Na,I as Ca}from"./misc-b1bed47e.js";import{r as ye,S as tn,a as ht,d as ur,g as x,b as Ie,c as Aa,u as vn,e as at,p as Ue,i as Oa,f as Da,t as Ge,h as yn}from"./hub-4b328965.js";import{H as pu,j as _u,m as mu}from"./hub-4b328965.js";import{n as wt,a as La,s as Ua}from"./severity-fb90bc79.js";import{h as Ne}from"./App-f688b01e.js";import{r as ct,R as lr}from"./index-5764825b.js";class V extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const Ma=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function za(t){return t==="http"||t==="https"}function Ce(t,e=!1){const{host:n,path:r,pass:a,port:i,projectId:s,protocol:o,publicKey:c}=t;return`${o}://${c}${e&&a?`:${a}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Ba(t){const e=Ma.exec(t);if(!e)throw new V(`Invalid Sentry Dsn: ${t}`);const[n,r,a="",i,s="",o]=e.slice(1);let c="",u=o;const f=u.split("/");if(f.length>1&&(c=f.slice(0,-1).join("/"),u=f.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return dr({host:i,pass:a,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function dr(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Fa(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:e,projectId:n,protocol:r}=t;if(["protocol","publicKey","host","projectId"].forEach(i=>{if(!t[i])throw new V(`Invalid Sentry Dsn: ${i} missing`)}),!n.match(/^\d+$/))throw new V(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!za(r))throw new V(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(e&&isNaN(parseInt(e,10)))throw new V(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function fr(t){const e=typeof t=="string"?Ba(t):dr(t);return Fa(e),e}function Pa(t){const e=[];function n(){return t===void 0||e.length<t}function r(s){return e.splice(e.indexOf(s),1)[0]}function a(s){if(!n())return ye(new V("Not adding Promise because buffer limit was reached."));const o=s();return e.indexOf(o)===-1&&e.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function i(s){return new tn((o,c)=>{let u=e.length;if(!u)return o(!0);const f=setTimeout(()=>{s&&s>0&&o(!1)},s);e.forEach(d=>{ht(d).then(()=>{--u||(clearTimeout(f),o(!0))},c)})})}return{$:e,add:a,drain:i}}function ue(t,e=[]){return[t,e]}function Ga(t,e){const[n,r]=t;return[n,[...r,e]]}function bn(t,e){t[1].forEach(r=>{const a=r[0].type;e(r,a)})}function Ye(t,e){return(e||new TextEncoder).encode(t)}function hr(t,e){const[n,r]=t;let a=JSON.stringify(n);function i(s){typeof a=="string"?a=typeof s=="string"?a+s:[Ye(a,e),s]:a.push(typeof s=="string"?Ye(s,e):s)}for(const s of r){const[o,c]=s;if(i(`
${JSON.stringify(o)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(wt(c))}i(u)}}return typeof a=="string"?a:Ya(a)}function Ya(t){const e=t.reduce((a,i)=>a+i.length,0),n=new Uint8Array(e);let r=0;for(const a of t)n.set(a,r),r+=a.length;return n}function $a(t,e){const n=typeof t.data=="string"?Ye(t.data,e):t.data;return[tr({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const Ha={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function wn(t){return Ha[t]}function en(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function pr(t,e,n,r){const a=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&{dsn:Ce(r)},...t.type==="transaction"&&a&&{trace:tr({...a})}}}function ja(t,e,n){const r=[{type:"client_report"},{timestamp:n||ur(),discarded_events:t}];return ue(e?{dsn:e}:{},[r])}const Wa=60*1e3;function Za(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?Wa:r-e}function _r(t,e){return t[e]||t.all||0}function mr(t,e,n=Date.now()){return _r(t,e)>n}function gr(t,{statusCode:e,headers:n},r=Date.now()){const a={...t},i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(const o of i.trim().split(",")){const[c,u]=o.split(":",2),f=parseInt(c,10),d=(isNaN(f)?60:f)*1e3;if(!u)a.all=r+d;else for(const p of u.split(";"))a[p]=r+d}else s?a.all=r+Za(s,r):e===429&&(a.all=r+60*1e3);return a}function Ae(t,e){return x().captureException(t,{captureContext:e})}function Mc(t,e){const n=typeof e=="string"?e:void 0,r=typeof e!="string"?{captureContext:e}:void 0;return x().captureMessage(t,n,r)}function zc(t,e){return x().captureEvent(t,e)}function qa(t){x().configureScope(t)}function Va(t){x().addBreadcrumb(t)}function Xa(t,e){x().setContext(t,e)}function Bc(t){x().setExtras(t)}function Fc(t,e){x().setExtra(t,e)}function Pc(t){x().setTags(t)}function Gc(t,e){x().setTag(t,e)}function Yc(t){x().setUser(t)}function vr(t){x().withScope(t)}function $c(t,e){return x().startTransaction({...t},e)}const Ka="7";function yr(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Ja(t){return`${yr(t)}${t.projectId}/envelope/`}function Qa(t,e){return ya({sentry_key:t.publicKey,sentry_version:Ka,...e&&{sentry_client:`${e.name}/${e.version}`}})}function br(t,e={}){const n=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${Ja(t)}?${Qa(t,r)}`}function ti(t,e){const n=fr(t),r=`${yr(n)}embed/error-page/`;let a=`dsn=${Ce(n)}`;for(const i in e)if(i!=="dsn")if(i==="user"){const s=e.user;if(!s)continue;s.name&&(a+=`&name=${encodeURIComponent(s.name)}`),s.email&&(a+=`&email=${encodeURIComponent(s.email)}`)}else a+=`&${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`;return`${r}?${a}`}function ei(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function ni(t,e,n,r){const a=en(n),i={sent_at:new Date().toISOString(),...a&&{sdk:a},...!!r&&{dsn:Ce(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t];return ue(i,[s])}function ri(t,e,n,r){const a=en(n),i=t.type&&t.type!=="replay_event"?t.type:"event";ei(t,n&&n.sdk);const s=pr(t,a,r,e);return delete t.sdkProcessingMetadata,ue(s,[[{type:i},t]])}const En=[];function ai(t){const e={};return t.forEach(n=>{const{name:r}=n,a=e[r];a&&!a.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.values(e)}function ii(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...e,...n]:typeof n=="function"?r=ba(n(e)):r=e;const a=ai(r),i=a.findIndex(s=>s.name==="Debug");if(i!==-1){const[s]=a.splice(i,1);a.push(s)}return a}function si(t){const e={};return t.forEach(n=>{wr(n,e)}),e}function wr(t,e){e[t.name]=t,En.indexOf(t.name)===-1&&(t.setupOnce(Ie,x),En.push(t.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`Integration installed: ${t.name}`))}function Er(t,e,n,r){const{normalizeDepth:a=3,normalizeMaxBreadth:i=1e3}=t,s={...e,event_id:e.event_id||n.event_id||er(),timestamp:e.timestamp||ur()};oi(s,t),ci(s,t.integrations.map(u=>u.name));let o=r;n.captureContext&&(o=Aa.clone(o).update(n.captureContext));let c=ht(s);if(o){if(o.getAttachments){const u=[...n.attachments||[],...o.getAttachments()];u.length&&(n.attachments=u)}c=o.applyToEvent(s,n)}return c.then(u=>typeof a=="number"&&a>0?ui(u,a,i):u)}function oi(t,e){const{environment:n,release:r,dist:a,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:"production"),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&a!==void 0&&(t.dist=a),t.message&&(t.message=Le(t.message,i));const s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Le(s.value,i));const o=t.request;o&&o.url&&(o.url=Le(o.url,i))}function ci(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function ui(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(a=>({...a,...a.data&&{data:wt(a.data,e,n)}}))},...t.user&&{user:wt(t.user,e,n)},...t.contexts&&{contexts:wt(t.contexts,e,n)},...t.extra&&{extra:wt(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=wt(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(a=>(a.data&&(a.data=wt(a.data,e,n)),a))),r}const Sn="Not capturing exception because it's already been captured.";class Ot{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(Ot.prototype.__init.call(this),Ot.prototype.__init2.call(this),Ot.prototype.__init3.call(this),Ot.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=fr(e.dsn);const n=br(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("No DSN provided, client will not do anything.")}captureException(e,n,r){if(_n(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(Sn);return}let a=n&&n.event_id;return this._process(this.eventFromException(e,n).then(i=>this._captureEvent(i,n,r)).then(i=>{a=i})),a}captureMessage(e,n,r,a){let i=r&&r.event_id;const s=nr(e)?this.eventFromMessage(String(e),n,r):this.eventFromException(e,r);return this._process(s.then(o=>this._captureEvent(o,r,a)).then(o=>{i=o})),i}captureEvent(e,n,r){if(n&&n.originalException&&_n(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(Sn);return}let a=n&&n.event_id;return this._process(this._captureEvent(e,n,r).then(i=>{a=i})),a}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),vn(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?this._isClientDoneProcessing(e).then(r=>n.flush(e).then(a=>r&&a)):ht(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=si(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){wr(e,this._integrations)}sendEvent(e,n={}){if(this._dsn){let r=ri(e,this._dsn,this._options._metadata,this._options.tunnel);for(const a of n.attachments||[])r=Ga(r,$a(a,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(r)}}sendSession(e){if(this._dsn){const n=ni(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const a=`${e}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`Adding outcome: "${a}"`),this._outcomes[a]=this._outcomes[a]+1||1}}_updateSessionFromEvent(e,n){let r=!1,a=!1;const i=n.exception&&n.exception.values;if(i){a=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const s=e.status==="ok";(s&&e.errors===0||s&&r)&&(vn(e,{...r&&{status:"crashed"},errors:e.errors||Number(a||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new tn(n=>{let r=0;const a=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=a,e&&r>=e&&(clearInterval(i),n(!1)))},a)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,n,r){const a=this.getOptions();return Er(a,e,n,r)}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(a=>a.event_id,a=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const i=a;i.logLevel==="log"?m.log(i.message):m.warn(i)}})}_processEvent(e,n,r){const a=this.getOptions(),{sampleRate:i}=a;if(!this._isEnabled())return ye(new V("SDK not enabled, will not capture event.","log"));const s=kr(e),o=Sr(e),c=e.type||"error",u=`before send for type \`${c}\``;if(o&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),ye(new V(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f=c==="replay_event"?"replay":c;return this._prepareEvent(e,n,r).then(d=>{if(d===null)throw this.recordDroppedEvent("event_processor",f,e),new V("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return d;const h=di(a,d,n);return li(h,u)}).then(d=>{if(d===null)throw this.recordDroppedEvent("before_send",f,e),new V(`${u} returned \`null\`, will not send event.`,"log");const p=r&&r.getSession();!s&&p&&this._updateSessionFromEvent(p,d);const h=d.transaction_info;if(s&&h&&d.transaction!==e.transaction){const l="custom";d.transaction_info={...h,source:l,changes:[...h.changes,{source:l,timestamp:d.timestamp,propagations:h.propagations}]}}return this.sendEvent(d,n),d}).then(null,d=>{throw d instanceof V?d:(this.captureException(d,{data:{__sentry__:!0},originalException:d}),new V(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${d}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("Error while sending event:",n)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[r,a]=n.split(":");return{reason:r,category:a,quantity:e[n]}})}}function li(t,e){const n=`${e} must return \`null\` or a valid event.`;if(wa(t))return t.then(r=>{if(!Be(r)&&r!==null)throw new V(n);return r},r=>{throw new V(`${e} rejected with ${r}`)});if(!Be(t)&&t!==null)throw new V(n);return t}function di(t,e,n){const{beforeSend:r,beforeSendTransaction:a}=t;return Sr(e)&&r?r(e,n):kr(e)&&a?a(e,n):e}function Sr(t){return t.type===void 0}function kr(t){return t.type==="transaction"}function fi(t,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?m.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=x(),r=n.getScope();r&&r.update(e.initialScope);const a=new t(e);n.bindClient(a)}const hi=30;function xr(t,e,n=Pa(t.bufferSize||hi)){let r={};const a=s=>n.drain(s);function i(s){const o=[];if(bn(s,(d,p)=>{const h=wn(p);if(mr(r,h)){const l=kn(d,p);t.recordDroppedEvent("ratelimit_backoff",h,l)}else o.push(d)}),o.length===0)return ht();const c=ue(s[0],o),u=d=>{bn(c,(p,h)=>{const l=kn(p,h);t.recordDroppedEvent(d,wn(h),l)})},f=()=>e({body:hr(c,t.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=gr(r,d),d),d=>{throw u("network_error"),d});return n.add(f).then(d=>d,d=>{if(d instanceof V)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("Skipped sending event because buffer is full."),u("queue_overflow"),ht();throw d})}return{send:i,flush:a}}function kn(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}const be="7.33.0";let xn;class Pt{constructor(){Pt.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Pt.id}setupOnce(){xn=Function.prototype.toString,Function.prototype.toString=function(...e){const n=Je(this)||this;return xn.apply(n,e)}}}Pt.__initStatic();const pi=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class xt{static __initStatic(){this.id="InboundFilters"}__init(){this.name=xt.id}constructor(e={}){this._options=e,xt.prototype.__init.call(this)}setupOnce(e,n){const r=a=>{const i=n();if(i){const s=i.getIntegration(xt);if(s){const o=i.getClient(),c=o?o.getOptions():{},u=_i(s._options,c);return mi(a,u)?null:a}}return a};r.id=this.name,e(r)}}xt.__initStatic();function _i(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...pi],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function mi(t,e){return e.ignoreInternal&&wi(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Event dropped due to being internal Sentry Error.
Event: ${Et(t)}`),!0):gi(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Et(t)}`),!0):vi(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Et(t)}.
Url: ${we(t)}`),!0):yi(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Et(t)}.
Url: ${we(t)}`),!0)}function gi(t,e){return!e||!e.length?!1:bi(t).some(n=>Qe(n,e))}function vi(t,e){if(!e||!e.length)return!1;const n=we(t);return n?Qe(n,e):!1}function yi(t,e){if(!e||!e.length)return!0;const n=we(t);return n?Qe(n,e):!0}function bi(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:n=""}=t.exception.values&&t.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error(`Cannot extract message for event ${Et(t)}`),[]}return[]}function wi(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function Ei(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function we(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Ei(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error(`Cannot extract url for event ${Et(t)}`),null}}const Si=Object.freeze(Object.defineProperty({__proto__:null,FunctionToString:Pt,InboundFilters:xt},Symbol.toStringTag,{value:"Module"})),E=rr;let $e=0;function Rr(){return $e>0}function ki(){$e++,setTimeout(()=>{$e--})}function Nt(t,e={},n){if(typeof t!="function")return t;try{const a=t.__sentry_wrapped__;if(a)return a;if(Je(t))return t}catch{return t}const r=function(){const a=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=a.map(s=>Nt(s,e));return t.apply(this,i)}catch(i){throw ki(),vr(s=>{s.addEventProcessor(o=>(e.mechanism&&(Fe(o,void 0,void 0),ae(o,e.mechanism)),o.extra={...o.extra,arguments:a},o)),Ae(i)}),i}};try{for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}catch{}Ea(r,t),Sa(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}function Tr(t,e){const n=nn(t,e),r={type:e&&e.name,value:Ii(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function xi(t,e,n,r){const i=x().getClient(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:sr(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${xa(e)}`}]},extra:{__serialized__:La(e,s)}};if(n){const c=nn(t,n);c.length&&(o.exception.values[0].stacktrace={frames:c})}return o}function Me(t,e){return{exception:{values:[Tr(t,e)]}}}function nn(t,e){const n=e.stacktrace||e.stack||"",r=Ti(e);try{return t(n,r)}catch{}return[]}const Ri=/Minified React error #\d+;/i;function Ti(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(Ri.test(t.message))return 1}return 0}function Ii(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Ni(t,e,n,r){const a=n&&n.syntheticException||void 0,i=rn(t,e,a,r);return ae(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),ht(i)}function Ci(t,e,n="info",r,a){const i=r&&r.syntheticException||void 0,s=He(t,e,i,a);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),ht(s)}function rn(t,e,n,r,a){let i;if(ar(e)&&e.error)return Me(t,e.error);if(mn(e)||ka(e)){const s=e;if("stack"in e)i=Me(t,e);else{const o=s.name||(mn(s)?"DOMError":"DOMException"),c=s.message?`${o}: ${s.message}`:o;i=He(t,c,n,r),Fe(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return ir(e)?Me(t,e):Be(e)||sr(e)?(i=xi(t,e,n,a),ae(i,{synthetic:!0}),i):(i=He(t,e,n,r),Fe(i,`${e}`,void 0),ae(i,{synthetic:!0}),i)}function He(t,e,n,r){const a={message:e};if(r&&n){const i=nn(t,n);i.length&&(a.exception={values:[{value:e,stacktrace:{frames:i}}]})}return a}const pe=1024,Ir="Breadcrumbs";class Gt{static __initStatic(){this.id=Ir}__init(){this.name=Gt.id}constructor(e){Gt.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&at("console",Oi),this.options.dom&&at("dom",Ai(this.options.dom)),this.options.xhr&&at("xhr",Di),this.options.fetch&&at("fetch",Li),this.options.history&&at("history",Ui)}addSentryBreadcrumb(e){this.options.sentry&&x().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:Et(e)},{event:e})}}Gt.__initStatic();function Ai(t){function e(n){let r,a=typeof t=="object"?t.serializeAttribute:void 0,i=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;i&&i>pe&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`\`dom.maxStringLength\` cannot exceed ${pe}, but a value of ${i} was configured. Sentry will use ${pe} instead.`),i=pe),typeof a=="string"&&(a=[a]);try{r=n.event.target?Pe(n.event.target,{keyAttrs:a,maxStringLength:i}):Pe(n.event,{keyAttrs:a,maxStringLength:i})}catch{r="<unknown>"}r.length!==0&&x().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return e}function Oi(t){for(let n=0;n<t.args.length;n++)if(t.args[n]==="ref=Ref<"){t.args[n+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:Ua(t.level),message:gn(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${gn(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;x().addBreadcrumb(e,{input:t.args,level:t.level})}function Di(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;const{method:e,url:n,status_code:r,body:a}=t.xhr.__sentry_xhr__||{};x().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:r},type:"http"},{xhr:t.xhr,input:a});return}}function Li(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?x().addBreadcrumb({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args}):x().addBreadcrumb({category:"fetch",data:{...t.fetchData,status_code:t.response.status},type:"http"},{input:t.args,response:t.response})))}function Ui(t){let e=t.from,n=t.to;const r=Ue(E.location.href);let a=Ue(e);const i=Ue(n);a.path||(a=r),r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===a.protocol&&r.host===a.host&&(e=a.relative),x().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}class Mi extends Ot{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:be}],version:be},super(e),e.sendClientReports&&E.document&&E.document.addEventListener("visibilitychange",()=>{E.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return Ni(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return Ci(this._options.stackParser,e,n,r,this._options.attachStacktrace)}sendEvent(e,n){const r=this.getIntegrationById(Ir);r&&r.addSentryBreadcrumb&&r.addSentryBreadcrumb(e),super.sendEvent(e,n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("Sending outcomes:",e);const n=br(this._dsn,this._options),r=ja(e,this._options.tunnel&&Ce(this._dsn));try{Object.prototype.toString.call(E&&E.navigator)==="[object Navigator]"&&typeof E.navigator.sendBeacon=="function"&&!this._options.transportOptions?E.navigator.sendBeacon.bind(E.navigator)(n,hr(r)):this._sendEnvelope(r)}catch(a){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error(a)}}}let Xt;function zi(){if(Xt)return Xt;if(Ra(E.fetch))return Xt=E.fetch.bind(E);const t=E.document;let e=E.fetch;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Xt=e.bind(E)}function Bi(){Xt=void 0}function Fi(t,e=zi()){function n(r){const a={body:r.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r.body.length<=65536,...t.fetchOptions};try{return e(t.url,a).then(i=>({statusCode:i.status,headers:{"x-sentry-rate-limits":i.headers.get("X-Sentry-Rate-Limits"),"retry-after":i.headers.get("Retry-After")}}))}catch(i){return Bi(),ye(i)}}return xr(t,n)}const Pi=4;function Gi(t){function e(n){return new tn((r,a)=>{const i=new XMLHttpRequest;i.onerror=a,i.onreadystatechange=()=>{i.readyState===Pi&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",t.url);for(const s in t.headers)Object.prototype.hasOwnProperty.call(t.headers,s)&&i.setRequestHeader(s,t.headers[s]);i.send(n.body)})}return xr(t,e)}const Zt="?",Yi=10,$i=20,Hi=30,ji=40,Wi=50;function le(t,e,n,r){const a={filename:t,function:e,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}const Zi=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,qi=/\((\S*)(?::(\d+))(?::(\d+))\)/,Vi=t=>{const e=Zi.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const i=qi.exec(e[2]);i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3])}const[r,a]=Nr(e[1]||Zt,e[2]);return le(a,r,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},Xi=[Hi,Vi],Ki=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ji=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Qi=t=>{const e=Ki.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=Ji.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let r=e[3],a=e[1]||Zt;return[a,r]=Nr(a,r),le(r,a,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},ts=[Wi,Qi],es=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ns=t=>{const e=es.exec(t);return e?le(e[2],e[1]||Zt,+e[3],e[4]?+e[4]:void 0):void 0},rs=[ji,ns],as=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,is=t=>{const e=as.exec(t);return e?le(e[2],e[3]||Zt,+e[1]):void 0},Hc=[Yi,is],ss=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,os=t=>{const e=ss.exec(t);return e?le(e[5],e[3]||e[4]||Zt,+e[1],+e[2]):void 0},jc=[$i,os],cs=[Xi,ts,rs],us=Ta(...cs),Nr=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Zt,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};class ft{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=ft.id}__init2(){this._installFunc={onerror:ls,onunhandledrejection:ds}}constructor(e){ft.prototype.__init.call(this),ft.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(ps(n),r(),this._installFunc[n]=void 0)}}}ft.__initStatic();function ls(){at("error",t=>{const[e,n,r]=Or();if(!e.getIntegration(ft))return;const{msg:a,url:i,line:s,column:o,error:c}=t;if(Rr()||c&&c.__sentry_own_request__)return;const u=c===void 0&&or(a)?hs(a,i,s,o):Cr(rn(n,c||a,void 0,r,!1),i,s,o);u.level="error",Ar(e,c,u,"onerror")})}function ds(){at("unhandledrejection",t=>{const[e,n,r]=Or();if(!e.getIntegration(ft))return;let a=t;try{"reason"in t?a=t.reason:"detail"in t&&"reason"in t.detail&&(a=t.detail.reason)}catch{}if(Rr()||a&&a.__sentry_own_request__)return!0;const i=nr(a)?fs(a):rn(n,a,void 0,r,!0);i.level="error",Ar(e,a,i,"onunhandledrejection")})}function fs(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function hs(t,e,n,r){const a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=ar(t)?t.message:t,s="Error";const o=i.match(a);return o&&(s=o[1],i=o[2]),Cr({exception:{values:[{type:s,value:i}]}},e,n,r)}function Cr(t,e,n,r){const a=t.exception=t.exception||{},i=a.values=a.values||[],s=i[0]=i[0]||{},o=s.stacktrace=s.stacktrace||{},c=o.frames=o.frames||[],u=isNaN(parseInt(r,10))?void 0:r,f=isNaN(parseInt(n,10))?void 0:n,d=or(e)&&e.length>0?e:Ia();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:f}),t}function ps(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`Global Handler attached: ${t}`)}function Ar(t,e,n,r){ae(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function Or(){const t=x(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}const _s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Yt{static __initStatic(){this.id="TryCatch"}__init(){this.name=Yt.id}constructor(e){Yt.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&St(E,"setTimeout",Rn),this._options.setInterval&&St(E,"setInterval",Rn),this._options.requestAnimationFrame&&St(E,"requestAnimationFrame",ms),this._options.XMLHttpRequest&&"XMLHttpRequest"in E&&St(XMLHttpRequest.prototype,"send",gs);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:_s).forEach(vs)}}Yt.__initStatic();function Rn(t){return function(...e){const n=e[0];return e[0]=Nt(n,{mechanism:{data:{function:Ft(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function ms(t){return function(e){return t.apply(this,[Nt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ft(t)},handled:!0,type:"instrument"}})])}}function gs(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(a=>{a in n&&typeof n[a]=="function"&&St(n,a,function(i){const s={mechanism:{data:{function:a,handler:Ft(i)},handled:!0,type:"instrument"}},o=Je(i);return o&&(s.mechanism.data.handler=Ft(o)),Nt(i,s)})}),t.apply(this,e)}}function vs(t){const e=E,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(St(n,"addEventListener",function(r){return function(a,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=Nt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ft(i),target:t},handled:!0,type:"instrument"}}))}catch{}return r.apply(this,[a,Nt(i,{mechanism:{data:{function:"addEventListener",handler:Ft(i),target:t},handled:!0,type:"instrument"}}),s])}}),St(n,"removeEventListener",function(r){return function(a,i,s){const o=i;try{const c=o&&o.__sentry_wrapped__;c&&r.call(this,a,c,s)}catch{}return r.call(this,a,o,s)}}))}const ys="cause",bs=5;class Rt{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Rt.id}constructor(e={}){Rt.prototype.__init.call(this),this._key=e.key||ys,this._limit=e.limit||bs}setupOnce(){const e=x().getClient();e&&Ie((n,r)=>{const a=x().getIntegration(Rt);return a?ws(e.getOptions().stackParser,a._key,a._limit,n,r):n})}}Rt.__initStatic();function ws(t,e,n,r,a){if(!r.exception||!r.exception.values||!a||!cr(a.originalException,Error))return r;const i=Dr(t,n,a.originalException,e);return r.exception.values=[...i,...r.exception.values],r}function Dr(t,e,n,r,a=[]){if(!cr(n[r],Error)||a.length+1>=e)return a;const i=Tr(t,n[r]);return Dr(t,e,n[r],r,[i,...a])}class Tt{constructor(){Tt.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Tt.id}setupOnce(){Ie(e=>{if(x().getIntegration(Tt)){if(!E.navigator&&!E.location&&!E.document)return e;const n=e.request&&e.request.url||E.location&&E.location.href,{referrer:r}=E.document||{},{userAgent:a}=E.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...a&&{"User-Agent":a}},s={...e.request,...n&&{url:n},headers:i};return{...e,request:s}}return e})}}Tt.__initStatic();class It{constructor(){It.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=It.id}setupOnce(e,n){const r=a=>{const i=n().getIntegration(It);if(i){try{if(Es(a,i._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=a}return i._previousEvent=a}return a};r.id=this.name,e(r)}}It.__initStatic();function Es(t,e){return e?!!(Ss(t,e)||ks(t,e)):!1}function Ss(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Ur(t,e)||!Lr(t,e))}function ks(t,e){const n=Tn(e),r=Tn(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Ur(t,e)||!Lr(t,e))}function Lr(t,e){let n=In(t),r=In(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let a=0;a<r.length;a++){const i=r[a],s=n[a];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function Ur(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Tn(t){return t.exception&&t.exception.values&&t.exception.values[0]}function In(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const xs=[new xt,new Pt,new Yt,new Gt,new ft,new Rt,new It,new Tt];function Rs(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=xs),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),E.SENTRY_RELEASE&&E.SENTRY_RELEASE.id&&(t.release=E.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);const e={...t,stackParser:Na(t.stackParser||us),integrations:ii(t),transport:t.transport||(Ca()?Fi:Gi)};fi(Mi,e),t.autoSessionTracking&&Is()}function Ts(t={},e=x()){if(!E.document){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=e.getStackTop(),a=t.dsn||n&&n.getDsn();if(!a){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("DSN not configured for showReportDialog call");return}r&&(t.user={...r.getUser(),...t.user}),t.eventId||(t.eventId=e.lastEventId());const i=E.document.createElement("script");i.async=!0,i.src=ti(a,t),t.onLoad&&(i.onload=t.onLoad);const s=E.document.head||E.document.body;s?s.appendChild(i):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("Not injecting report dialog. No injection point found in HTML")}function Wc(){return x().lastEventId()}function Zc(){}function qc(t){t()}function Vc(t){const e=x().getClient();return e?e.flush(t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Cannot flush events. No client defined."),ht(!1))}function Xc(t){const e=x().getClient();return e?e.close(t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Cannot flush events and disable SDK. No client defined."),ht(!1))}function Kc(t){return Nt(t)()}function Nn(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function Is(){if(typeof E.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const t=x();t.captureSession&&(Nn(t),at("history",({from:e,to:n})=>{e===void 0||e===n||Nn(x())}))}const Ns=Object.freeze(Object.defineProperty({__proto__:null,Breadcrumbs:Gt,Dedupe:It,GlobalHandlers:ft,HttpContext:Tt,LinkedErrors:Rt,TryCatch:Yt},Symbol.toStringTag,{value:"Module"})),Y=rr,Mr="sentryReplaySession",zr="replay_event",an="Unable to send Replay",Jt=3e5,Cn=Jt,Br=36e5,Cs="body *:not(style), body *:not(script)",As=5e3,Os=5e3,Ds=5e3,Ls=3;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M=function(){return M=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},M.apply(this,arguments)};function Us(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function gt(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function I(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var $;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})($||($={}));function Ms(t){return t.nodeType===t.ELEMENT_NODE}function Qt(t){var e,n=(e=t)===null||e===void 0?void 0:e.host;return Boolean(n&&n.shadowRoot&&n.shadowRoot===t)}function sn(t){var e=t.maskInputOptions,n=t.tagName,r=t.type,a=t.value,i=t.maskInputFn,s=a||"";return(e[n.toLowerCase()]||e[r])&&(i?s=i(s):s="*".repeat(s.length)),s}var An="__rrweb_original__";function zs(t){var e=t.getContext("2d");if(!e)return!0;for(var n=50,r=0;r<t.width;r+=n)for(var a=0;a<t.height;a+=n){var i=e.getImageData,s=An in i?i[An]:i,o=new Uint32Array(s.call(e,r,a,Math.min(n,t.width-r),Math.min(n,t.height-a)).data.buffer);if(o.some(function(c){return c!==0}))return!1}return!0}var Bs=1,Fs=new RegExp("[^a-z0-9-_:]"),ie=-2;function Ps(){return Bs++}function Gs(t){if(t instanceof HTMLFormElement)return"form";var e=t.tagName.toLowerCase().trim();return Fs.test(e)?"div":e}function je(t){try{var e=t.rules||t.cssRules;return e?Array.from(e).map(Ys).join(""):null}catch{return null}}function Ys(t){var e=t.cssText;if($s(t))try{e=je(t.styleSheet)||e}catch{}return e}function $s(t){return"styleSheet"in t}function Hs(t){return t.cssRules?Array.from(t.cssRules).map(function(e){return e.cssText||""}).join(""):""}function js(t){var e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}var Ct,On,Ws=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Zs=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,qs=/^(data:)([^,]*),(.*)/i;function me(t,e){return(t||"").replace(Ws,function(n,r,a,i,s,o){var c=a||s||o,u=r||i||"";if(!c)return n;if(!Zs.test(c)||qs.test(c))return"url("+u+c+u+")";if(c[0]==="/")return"url("+u+(js(e)+c)+u+")";var f=e.split("/"),d=c.split("/");f.pop();for(var p=0,h=d;p<h.length;p++){var l=h[p];l!=="."&&(l===".."?f.pop():f.push(l))}return"url("+u+f.join("/")+u+")"})}var Vs=/^[^ \t\n\r\u000c]+/,Xs=/^[, \t\n\r\u000c]+/;function Ks(t,e){if(e.trim()==="")return e;var n=0;function r(u){var f,d=u.exec(e.substring(n));return d?(f=d[0],n+=f.length,f):""}for(var a=[];r(Xs),!(n>=e.length);){var i=r(Vs);if(i.slice(-1)===",")i=Dt(t,i.substring(0,i.length-1)),a.push(i);else{var s="";i=Dt(t,i);for(var o=!1;;){var c=e.charAt(n);if(c===""){a.push((i+s).trim());break}else if(o)c===")"&&(o=!1);else if(c===","){n+=1,a.push((i+s).trim());break}else c==="("&&(o=!0);s+=c,n+=1}}}return a.join(", ")}function Dt(t,e){if(!e||e.trim()==="")return e;var n=t.createElement("a");return n.href=e,n.href}function Js(t){return Boolean(t.tagName==="svg"||t.ownerSVGElement)}function We(){var t=document.createElement("a");return t.href="",t.href}function Fr(t,e,n,r){return n==="src"||n==="href"&&r||n==="xlink:href"&&r&&r[0]!=="#"||n==="background"&&r&&(e==="table"||e==="td"||e==="th")?Dt(t,r):n==="srcset"&&r?Ks(t,r):n==="style"&&r?me(r,We()):e==="object"&&n==="data"&&r?Dt(t,r):r}function Qs(t,e,n){if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(var r=0;r<t.classList.length;r++){var a=t.classList[r];if(e.test(a))return!0}return n?t.matches(n):!1}function te(t,e,n){if(!t)return!1;if(t.nodeType===t.ELEMENT_NODE){if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(var r=0;r<t.classList.length;r++){var a=t.classList[r];if(e.test(a))return!0}return n&&t.matches(n)?!0:te(t.parentNode,e,n)}return t.nodeType===t.TEXT_NODE,te(t.parentNode,e,n)}function to(t,e,n){var r=t.contentWindow;if(r){var a=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){var s=setTimeout(function(){a||(e(),a=!0)},n);t.addEventListener("load",function(){clearTimeout(s),a=!0,e()});return}var o="about:blank";if(r.location.href!==o||t.src===o||t.src===""){setTimeout(e,0);return}t.addEventListener("load",e)}}function eo(t,e){var n,r=e.doc,a=e.blockClass,i=e.blockSelector,s=e.maskTextClass,o=e.maskTextSelector,c=e.inlineStylesheet,u=e.maskInputOptions,f=u===void 0?{}:u,d=e.maskTextFn,p=e.maskInputFn,h=e.dataURLOptions,l=h===void 0?{}:h,S=e.inlineImages,b=e.recordCanvas,g=e.keepIframeSrcFn,v;if(r.__sn){var y=r.__sn.id;v=y===1?void 0:y}switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:$.Document,childNodes:[],compatMode:t.compatMode,rootId:v}:{type:$.Document,childNodes:[],rootId:v};case t.DOCUMENT_TYPE_NODE:return{type:$.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:v};case t.ELEMENT_NODE:for(var k=Qs(t,a,i),w=Gs(t),_={},N=0,U=Array.from(t.attributes);N<U.length;N++){var tt=U[N],X=tt.name,F=tt.value;_[X]=Fr(r,w,X,F)}if(w==="link"&&c){var Z=Array.from(r.styleSheets).find(function(it){return it.href===t.href}),L=null;Z&&(L=je(Z)),L&&(delete _.rel,delete _.href,_._cssText=me(L,Z.href))}if(w==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){var L=je(t.sheet);L&&(_._cssText=me(L,We()))}if(w==="input"||w==="textarea"||w==="select"){var F=t.value;_.type!=="radio"&&_.type!=="checkbox"&&_.type!=="submit"&&_.type!=="button"&&F?_.value=sn({type:_.type,tagName:w,value:F,maskInputOptions:f,maskInputFn:p}):t.checked&&(_.checked=t.checked)}if(w==="option"&&(t.selected&&!f.select?_.selected=!0:delete _.selected),w==="canvas"&&b){if(t.__context==="2d")zs(t)||(_.rr_dataURL=t.toDataURL(l.type,l.quality));else if(!("__context"in t)){var K=t.toDataURL(l.type,l.quality),z=document.createElement("canvas");z.width=t.width,z.height=t.height;var q=z.toDataURL(l.type,l.quality);K!==q&&(_.rr_dataURL=K)}}if(w==="img"&&S){Ct||(Ct=r.createElement("canvas"),On=Ct.getContext("2d"));var A=t,H=A.crossOrigin;A.crossOrigin="anonymous";var ut=function(){try{Ct.width=A.naturalWidth,Ct.height=A.naturalHeight,On.drawImage(A,0,0),_.rr_dataURL=Ct.toDataURL(l.type,l.quality)}catch(it){console.warn("Cannot inline img src="+A.currentSrc+"! Error: "+it)}H?_.crossOrigin=H:delete _.crossOrigin};A.complete&&A.naturalWidth!==0?ut():A.onload=ut}if((w==="audio"||w==="video")&&(_.rr_mediaState=t.paused?"paused":"played",_.rr_mediaCurrentTime=t.currentTime),t.scrollLeft&&(_.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(_.rr_scrollTop=t.scrollTop),k){var pt=t.getBoundingClientRect(),_t=pt.width,dt=pt.height;_={class:_.class,rr_width:_t+"px",rr_height:dt+"px"}}return w==="iframe"&&!g(_.src)&&(t.contentDocument||(_.rr_src=_.src),delete _.src),{type:$.Element,tagName:w,attributes:_,childNodes:[],isSVG:Js(t)||void 0,needBlock:k,rootId:v};case t.TEXT_NODE:var rt=t.parentNode&&t.parentNode.tagName,P=t.textContent,mt=rt==="STYLE"?!0:void 0,lt=rt==="SCRIPT"?!0:void 0;if(mt&&P){try{t.nextSibling||t.previousSibling||!((n=t.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(P=Hs(t.parentNode.sheet))}catch(it){console.warn("Cannot get CSS styles from text's parentNode. Error: "+it,t)}P=me(P,We())}return lt&&(P="SCRIPT_PLACEHOLDER"),!mt&&!lt&&te(t,s,o)&&P&&(P=d?d(P):P.replace(/[\S]/g,"*")),{type:$.Text,textContent:P||"",isStyle:mt,rootId:v};case t.CDATA_SECTION_NODE:return{type:$.CDATA,textContent:"",rootId:v};case t.COMMENT_NODE:return{type:$.Comment,textContent:t.textContent||"",rootId:v};default:return!1}}function O(t){return t===void 0?"":t.toLowerCase()}function no(t,e){if(e.comment&&t.type===$.Comment)return!0;if(t.type===$.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&t.attributes.rel==="preload"&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(O(t.attributes.name).match(/^msapplication-tile(image|color)$/)||O(t.attributes.name)==="application-name"||O(t.attributes.rel)==="icon"||O(t.attributes.rel)==="apple-touch-icon"||O(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&O(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(O(t.attributes.property).match(/^(og|twitter|fb):/)||O(t.attributes.name).match(/^(og|twitter):/)||O(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(O(t.attributes.name)==="robots"||O(t.attributes.name)==="googlebot"||O(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(O(t.attributes.name)==="author"||O(t.attributes.name)==="generator"||O(t.attributes.name)==="framework"||O(t.attributes.name)==="publisher"||O(t.attributes.name)==="progid"||O(t.attributes.property).match(/^article:/)||O(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(O(t.attributes.name)==="google-site-verification"||O(t.attributes.name)==="yandex-verification"||O(t.attributes.name)==="csrf-token"||O(t.attributes.name)==="p:domain_verify"||O(t.attributes.name)==="verify-v1"||O(t.attributes.name)==="verification"||O(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ee(t,e){var n=e.doc,r=e.map,a=e.blockClass,i=e.blockSelector,s=e.maskTextClass,o=e.maskTextSelector,c=e.skipChild,u=c===void 0?!1:c,f=e.inlineStylesheet,d=f===void 0?!0:f,p=e.maskInputOptions,h=p===void 0?{}:p,l=e.maskTextFn,S=e.maskInputFn,b=e.slimDOMOptions,g=e.dataURLOptions,v=g===void 0?{}:g,y=e.inlineImages,k=y===void 0?!1:y,w=e.recordCanvas,_=w===void 0?!1:w,N=e.onSerialize,U=e.onIframeLoad,tt=e.iframeLoadTimeout,X=tt===void 0?5e3:tt,F=e.keepIframeSrcFn,Z=F===void 0?function(){return!1}:F,L=e.preserveWhiteSpace,K=L===void 0?!0:L,z=eo(t,{doc:n,blockClass:a,blockSelector:i,maskTextClass:s,maskTextSelector:o,inlineStylesheet:d,maskInputOptions:h,maskTextFn:l,maskInputFn:S,dataURLOptions:v,inlineImages:k,recordCanvas:_,keepIframeSrcFn:Z});if(!z)return console.warn(t,"not serialized"),null;var q;"__sn"in t?q=t.__sn.id:no(z,b)||!K&&z.type===$.Text&&!z.isStyle&&!z.textContent.replace(/^\s+|\s+$/gm,"").length?q=ie:q=Ps();var A=Object.assign(z,{id:q});if(t.__sn=A,q===ie)return null;r[q]=t,N&&N(t);var H=!u;if(A.type===$.Element&&(H=H&&!A.needBlock,delete A.needBlock,t.shadowRoot&&(A.isShadowHost=!0)),(A.type===$.Document||A.type===$.Element)&&H){b.headWhitespace&&z.type===$.Element&&z.tagName==="head"&&(K=!1);for(var ut={doc:n,map:r,blockClass:a,blockSelector:i,maskTextClass:s,maskTextSelector:o,skipChild:u,inlineStylesheet:d,maskInputOptions:h,maskTextFn:l,maskInputFn:S,slimDOMOptions:b,dataURLOptions:v,inlineImages:k,recordCanvas:_,preserveWhiteSpace:K,onSerialize:N,onIframeLoad:U,iframeLoadTimeout:X,keepIframeSrcFn:Z},pt=0,_t=Array.from(t.childNodes);pt<_t.length;pt++){var dt=_t[pt],rt=ee(dt,ut);rt&&A.childNodes.push(rt)}if(Ms(t)&&t.shadowRoot)for(var P=0,mt=Array.from(t.shadowRoot.childNodes);P<mt.length;P++){var dt=mt[P],rt=ee(dt,ut);rt&&(rt.isShadow=!0,A.childNodes.push(rt))}}return t.parentNode&&Qt(t.parentNode)&&(A.isShadow=!0),A.type===$.Element&&A.tagName==="iframe"&&to(t,function(){var lt=t.contentDocument;if(lt&&U){var it=ee(lt,{doc:lt,map:r,blockClass:a,blockSelector:i,maskTextClass:s,maskTextSelector:o,skipChild:!1,inlineStylesheet:d,maskInputOptions:h,maskTextFn:l,maskInputFn:S,slimDOMOptions:b,dataURLOptions:v,inlineImages:k,recordCanvas:_,preserveWhiteSpace:K,onSerialize:N,onIframeLoad:U,iframeLoadTimeout:X,keepIframeSrcFn:Z});it&&U(t,it)}},X),A}function ro(t,e){var n=e||{},r=n.blockClass,a=r===void 0?"rr-block":r,i=n.blockSelector,s=i===void 0?null:i,o=n.maskTextClass,c=o===void 0?"rr-mask":o,u=n.maskTextSelector,f=u===void 0?null:u,d=n.inlineStylesheet,p=d===void 0?!0:d,h=n.inlineImages,l=h===void 0?!1:h,S=n.recordCanvas,b=S===void 0?!1:S,g=n.maskAllInputs,v=g===void 0?!1:g,y=n.maskTextFn,k=n.maskInputFn,w=n.slimDOM,_=w===void 0?!1:w,N=n.dataURLOptions,U=n.preserveWhiteSpace,tt=n.onSerialize,X=n.onIframeLoad,F=n.iframeLoadTimeout,Z=n.keepIframeSrcFn,L=Z===void 0?function(){return!1}:Z,K={},z=v===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:v===!1?{password:!0}:v,q=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:_==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:_===!1?{}:_;return[ee(t,{doc:t,map:K,blockClass:a,blockSelector:s,maskTextClass:c,maskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:z,maskTextFn:y,maskInputFn:k,slimDOMOptions:q,dataURLOptions:N,inlineImages:l,recordCanvas:b,preserveWhiteSpace:U,onSerialize:tt,onIframeLoad:X,iframeLoadTimeout:F,keepIframeSrcFn:L}),K]}var D;(function(t){t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin"})(D||(D={}));var W;(function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration"})(W||(W={}));var Ee;(function(t){t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel"})(Ee||(Ee={}));var $t;(function(t){t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2"})($t||($t={}));var Dn;(function(t){t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange"})(Dn||(Dn={}));var Ln;(function(t){t.Start="start",t.Pause="pause",t.Resume="resume",t.Resize="resize",t.Finish="finish",t.FullsnapshotRebuilded="fullsnapshot-rebuilded",t.LoadStylesheetStart="load-stylesheet-start",t.LoadStylesheetEnd="load-stylesheet-end",t.SkipStart="skip-start",t.SkipEnd="skip-end",t.MouseInteraction="mouse-interaction",t.EventCast="event-cast",t.CustomEvent="custom-event",t.Flush="flush",t.StateChange="state-change",t.PlayBack="play-back"})(Ln||(Ln={}));function nt(t,e,n){n===void 0&&(n=document);var r={capture:!0,passive:!0};return n.addEventListener(t,e,r),function(){return n.removeEventListener(t,e,r)}}function ao(){return{map:{},getId:function(t){return!t||!t.__sn?-1:t.__sn.id},getNode:function(t){return this.map[t]||null},removeNodeFromMap:function(t){var e=this,n=t.__sn&&t.__sn.id;delete this.map[n],t.childNodes&&t.childNodes.forEach(function(r){return e.removeNodeFromMap(r)})},has:function(t){return this.map.hasOwnProperty(t)},reset:function(){this.map={}}}}var At=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Un={map:{},getId:function(){return console.error(At),-1},getNode:function(){return console.error(At),null},removeNodeFromMap:function(){console.error(At)},has:function(){return console.error(At),!1},reset:function(){console.error(At)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Un=new Proxy(Un,{get:function(t,e,n){return e==="map"&&console.error(At),Reflect.get(t,e,n)}}));function se(t,e,n){n===void 0&&(n={});var r=null,a=0;return function(i){var s=Date.now();!a&&n.leading===!1&&(a=s);var o=e-(s-a),c=this,u=arguments;o<=0||o>e?(r&&(clearTimeout(r),r=null),a=s,t.apply(c,u)):!r&&n.trailing!==!1&&(r=setTimeout(function(){a=n.leading===!1?0:Date.now(),r=null,t.apply(c,u)},o))}}function Oe(t,e,n,r,a){a===void 0&&(a=window);var i=a.Object.getOwnPropertyDescriptor(t,e);return a.Object.defineProperty(t,e,r?n:{set:function(s){var o=this;setTimeout(function(){n.set.call(o,s)},0),i&&i.set&&i.set.call(this,s)}}),function(){return Oe(t,e,i||{},!0)}}function Ht(t,e,n){try{if(!(e in t))return function(){};var r=t[e],a=n(r);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=a,function(){t[e]=r}}catch{return function(){}}}function Pr(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Gr(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Q(t,e){if(!t)return!1;if(t.nodeType===t.ELEMENT_NODE){var n=!1;if(typeof e=="string"){if(t.closest!==void 0)return t.closest("."+e)!==null;n=t.classList.contains(e)}else t.classList.forEach(function(r){e.test(r)&&(n=!0)});return n||Q(t.parentNode,e)}return t.nodeType===t.TEXT_NODE,Q(t.parentNode,e)}function ze(t){return"__sn"in t?t.__sn.id===ie:!1}function Yr(t,e){if(Qt(t))return!1;var n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?Yr(t.parentNode,e):!0:!0}function $r(t){return Boolean(t.changedTouches)}function io(t){t===void 0&&(t=window),"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(n){if(!(0 in arguments))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Hr(t){return"__sn"in t?t.__sn.type===$.Element&&t.__sn.tagName==="iframe":!1}function jr(t){return Boolean(t==null?void 0:t.shadowRoot)}function Mn(t){return"__ln"in t}var so=function(){function t(){this.length=0,this.head=null}return t.prototype.get=function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var n=this.head,r=0;r<e;r++)n=(n==null?void 0:n.next)||null;return n},t.prototype.addNode=function(e){var n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&Mn(e.previousSibling)){var r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&Mn(e.nextSibling)&&e.nextSibling.__ln.previous){var r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;this.length++},t.prototype.removeNode=function(e){var n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next&&(n.next.previous=n.previous)):(this.head=n.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)},t}(),zn=function(t,e){return"".concat(t,"@").concat(e)};function Bn(t){return"__sn"in t}var oo=function(){function t(){var e=this;this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(n){n.forEach(e.processMutation),e.emit()},this.emit=function(){var n,r,a,i;if(!(e.frozen||e.locked)){for(var s=[],o=new so,c=function(_){for(var N=_,U=ie;U===ie;)N=N&&N.nextSibling,U=N&&e.mirror.getId(N);return U},u=function(_){for(var N,U,tt,X,F,Z=_.getRootNode?(N=_.getRootNode())===null||N===void 0?void 0:N.host:null,L=Z;!((tt=(U=L==null?void 0:L.getRootNode)===null||U===void 0?void 0:U.call(L))===null||tt===void 0)&&tt.host;)L=((F=(X=L==null?void 0:L.getRootNode)===null||X===void 0?void 0:X.call(L))===null||F===void 0?void 0:F.host)||null;var K=!e.doc.contains(_)&&(L===null||!e.doc.contains(L));if(!(!_.parentNode||K)){var z=Qt(_.parentNode)?e.mirror.getId(Z):e.mirror.getId(_.parentNode),q=c(_);if(z===-1||q===-1)return o.addNode(_);var A=ee(_,{doc:e.doc,map:e.mirror.map,blockClass:e.blockClass,blockSelector:e.blockSelector,maskTextClass:e.maskTextClass,maskTextSelector:e.maskTextSelector,skipChild:!0,inlineStylesheet:e.inlineStylesheet,maskInputOptions:e.maskInputOptions,maskTextFn:e.maskTextFn,maskInputFn:e.maskInputFn,slimDOMOptions:e.slimDOMOptions,recordCanvas:e.recordCanvas,inlineImages:e.inlineImages,onSerialize:function(H){Hr(H)&&e.iframeManager.addIframe(H),jr(_)&&e.shadowDomManager.addShadowRoot(_.shadowRoot,document)},onIframeLoad:function(H,ut){e.iframeManager.attachIframe(H,ut),e.shadowDomManager.observeAttachShadow(H)}});A&&s.push({parentId:z,nextId:q,node:A})}};e.mapRemoves.length;)e.mirror.removeNodeFromMap(e.mapRemoves.shift());try{for(var f=gt(e.movedSet),d=f.next();!d.done;d=f.next()){var p=d.value;qe(e.removes,p,e.mirror)&&!e.movedSet.has(p.parentNode)||u(p)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var h=gt(e.addedSet),l=h.next();!l.done;l=h.next()){var p=l.value;!Ve(e.droppedSet,p)&&!qe(e.removes,p,e.mirror)||Ve(e.movedSet,p)?u(p):e.droppedSet.add(p)}}catch(_){a={error:_}}finally{try{l&&!l.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}for(var S=null;o.length;){var b=null;if(S){var g=e.mirror.getId(S.value.parentNode),v=c(S.value);g!==-1&&v!==-1&&(b=S)}if(!b)for(var y=o.length-1;y>=0;y--){var k=o.get(y);if(k){var g=e.mirror.getId(k.value.parentNode),v=c(k.value);if(g!==-1&&v!==-1){b=k;break}}}if(!b){for(;o.head;)o.removeNode(o.head.value);break}S=b.previous,o.removeNode(b.value),u(b.value)}var w={texts:e.texts.map(function(_){return{id:e.mirror.getId(_.node),value:_.value}}).filter(function(_){return e.mirror.has(_.id)}),attributes:e.attributes.map(function(_){return{id:e.mirror.getId(_.node),attributes:_.attributes}}).filter(function(_){return e.mirror.has(_.id)}),removes:e.removes,adds:s};!w.texts.length&&!w.attributes.length&&!w.removes.length&&!w.adds.length||(e.texts=[],e.attributes=[],e.removes=[],e.addedSet=new Set,e.movedSet=new Set,e.droppedSet=new Set,e.movedMap={},e.mutationCb(w))}},this.processMutation=function(n){var r,a,i,s;if(!ze(n.target))switch(n.type){case"characterData":{var o=n.target.textContent;!Q(n.target,e.blockClass)&&o!==n.oldValue&&e.texts.push({value:te(n.target,e.maskTextClass,e.maskTextSelector)&&o?e.maskTextFn?e.maskTextFn(o):o.replace(/[\S]/g,"*"):o,node:n.target});break}case"attributes":{var c=n.target,o=n.target.getAttribute(n.attributeName);if(n.attributeName==="value"&&(o=sn({maskInputOptions:e.maskInputOptions,tagName:n.target.tagName,type:n.target.getAttribute("type"),value:o,maskInputFn:e.maskInputFn})),Q(n.target,e.blockClass)||o===n.oldValue)return;var u=e.attributes.find(function(k){return k.node===n.target});if(u||(u={node:n.target,attributes:{}},e.attributes.push(u)),n.attributeName==="style"){var f=e.doc.createElement("span");n.oldValue&&f.setAttribute("style",n.oldValue),(u.attributes.style===void 0||u.attributes.style===null)&&(u.attributes.style={});var d=u.attributes.style;try{for(var p=gt(Array.from(c.style)),h=p.next();!h.done;h=p.next()){var l=h.value,S=c.style.getPropertyValue(l),b=c.style.getPropertyPriority(l);(S!==f.style.getPropertyValue(l)||b!==f.style.getPropertyPriority(l))&&(b===""?d[l]=S:d[l]=[S,b])}}catch(k){r={error:k}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(r)throw r.error}}try{for(var g=gt(Array.from(f.style)),v=g.next();!v.done;v=g.next()){var l=v.value;c.style.getPropertyValue(l)===""&&(d[l]=!1)}}catch(k){i={error:k}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}}else u.attributes[n.attributeName]=Fr(e.doc,n.target.tagName,n.attributeName,o);break}case"childList":{n.addedNodes.forEach(function(y){return e.genAdds(y,n.target)}),n.removedNodes.forEach(function(y){var k=e.mirror.getId(y),w=Qt(n.target)?e.mirror.getId(n.target.host):e.mirror.getId(n.target);Q(n.target,e.blockClass)||ze(y)||(e.addedSet.has(y)?(Ze(e.addedSet,y),e.droppedSet.add(y)):e.addedSet.has(n.target)&&k===-1||Yr(n.target,e.mirror)||(e.movedSet.has(y)&&e.movedMap[zn(k,w)]?Ze(e.movedSet,y):e.removes.push({parentId:w,id:k,isShadow:Qt(n.target)?!0:void 0})),e.mapRemoves.push(y))});break}}},this.genAdds=function(n,r){if(!(r&&Q(r,e.blockClass))){if(Bn(n)){if(ze(n))return;e.movedSet.add(n);var a=null;r&&Bn(r)&&(a=r.__sn.id),a&&(e.movedMap[zn(n.__sn.id,a)]=!0)}else e.addedSet.add(n),e.droppedSet.delete(n);Q(n,e.blockClass)||n.childNodes.forEach(function(i){return e.genAdds(i)})}}}return t.prototype.init=function(e){var n=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","recordCanvas","inlineImages","slimDOMOptions","doc","mirror","iframeManager","shadowDomManager","canvasManager"].forEach(function(r){n[r]=e[r]})},t.prototype.freeze=function(){this.frozen=!0,this.canvasManager.freeze()},t.prototype.unfreeze=function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()},t.prototype.isFrozen=function(){return this.frozen},t.prototype.lock=function(){this.locked=!0,this.canvasManager.lock()},t.prototype.unlock=function(){this.locked=!1,this.canvasManager.unlock(),this.emit()},t.prototype.reset=function(){this.shadowDomManager.reset(),this.canvasManager.reset()},t}();function Ze(t,e){t.delete(e),e.childNodes.forEach(function(n){return Ze(t,n)})}function qe(t,e,n){var r=e.parentNode;if(!r)return!1;var a=n.getId(r);return t.some(function(i){return i.id===a})?!0:qe(t,r,n)}function Ve(t,e){var n=e.parentNode;return n?t.has(n)?!0:Ve(t,n):!1}const co=oo;var kt=[],Wr=typeof CSSGroupingRule<"u",Zr=typeof CSSMediaRule<"u",qr=typeof CSSSupportsRule<"u",Vr=typeof CSSConditionRule<"u";function de(t){try{if("composedPath"in t){var e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0];return t.target}catch{return t.target}}function Xr(t,e){var n,r,a=new co;kt.push(a),a.init(t);var i=window.MutationObserver||window.__rrMutationObserver,s=(r=(n=window==null?void 0:window.Zone)===null||n===void 0?void 0:n.__symbol__)===null||r===void 0?void 0:r.call(n,"MutationObserver");s&&window[s]&&(i=window[s]);var o=new i(a.processMutations.bind(a));return o.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function uo(t){var e=t.mousemoveCb,n=t.sampling,r=t.doc,a=t.mirror;if(n.mousemove===!1)return function(){};var i=typeof n.mousemove=="number"?n.mousemove:50,s=typeof n.mousemoveCallback=="number"?n.mousemoveCallback:500,o=[],c,u=se(function(p){var h=Date.now()-c;e(o.map(function(l){return l.timeOffset-=h,l}),p),o=[],c=null},s),f=se(function(p){var h=de(p),l=$r(p)?p.changedTouches[0]:p,S=l.clientX,b=l.clientY;c||(c=Date.now()),o.push({x:S,y:b,id:a.getId(h),timeOffset:Date.now()-c}),u(typeof DragEvent<"u"&&p instanceof DragEvent?W.Drag:p instanceof MouseEvent?W.MouseMove:W.TouchMove)},i,{trailing:!1}),d=[nt("mousemove",f,r),nt("touchmove",f,r),nt("drag",f,r)];return function(){d.forEach(function(p){return p()})}}function lo(t){var e=t.mouseInteractionCb,n=t.doc,r=t.mirror,a=t.blockClass,i=t.sampling;if(i.mouseInteraction===!1)return function(){};var s=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,o=[],c=function(u){return function(f){var d=de(f);if(!Q(d,a)){var p=$r(f)?f.changedTouches[0]:f;if(p){var h=r.getId(d),l=p.clientX,S=p.clientY;e({type:Ee[u],id:h,x:l,y:S})}}}};return Object.keys(Ee).filter(function(u){return Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&s[u]!==!1}).forEach(function(u){var f=u.toLowerCase(),d=c(u);o.push(nt(f,d,n))}),function(){o.forEach(function(u){return u()})}}function Kr(t){var e=t.scrollCb,n=t.doc,r=t.mirror,a=t.blockClass,i=t.sampling,s=se(function(o){var c=de(o);if(!(!c||Q(c,a))){var u=r.getId(c);if(c===n){var f=n.scrollingElement||n.documentElement;e({id:u,x:f.scrollLeft,y:f.scrollTop})}else e({id:u,x:c.scrollLeft,y:c.scrollTop})}},i.scroll||100);return nt("scroll",s,n)}function fo(t){var e=t.viewportResizeCb,n=-1,r=-1,a=se(function(){var i=Pr(),s=Gr();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)},200);return nt("resize",a,window)}function Fn(t,e){var n=M({},t);return e||delete n.userTriggered,n}var ho=["INPUT","TEXTAREA","SELECT"],Pn=new WeakMap;function po(t){var e=t.inputCb,n=t.doc,r=t.mirror,a=t.blockClass,i=t.ignoreClass,s=t.maskInputOptions,o=t.maskInputFn,c=t.sampling,u=t.userTriggeredOnInput;function f(b){var g=de(b),v=b.isTrusted;if(g&&g.tagName==="OPTION"&&(g=g.parentElement),!(!g||!g.tagName||ho.indexOf(g.tagName)<0||Q(g,a))){var y=g.type;if(!g.classList.contains(i)){var k=g.value,w=!1;y==="radio"||y==="checkbox"?w=g.checked:(s[g.tagName.toLowerCase()]||s[y])&&(k=sn({maskInputOptions:s,tagName:g.tagName,type:y,value:k,maskInputFn:o})),d(g,Fn({text:k,isChecked:w,userTriggered:v},u));var _=g.name;y==="radio"&&_&&w&&n.querySelectorAll('input[type="radio"][name="'.concat(_,'"]')).forEach(function(N){N!==g&&d(N,Fn({text:N.value,isChecked:!w,userTriggered:!1},u))})}}}function d(b,g){var v=Pn.get(b);if(!v||v.text!==g.text||v.isChecked!==g.isChecked){Pn.set(b,g);var y=r.getId(b);e(M(M({},g),{id:y}))}}var p=c.input==="last"?["change"]:["input","change"],h=p.map(function(b){return nt(b,f,n)}),l=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),S=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"],[HTMLOptionElement.prototype,"selected"]];return l&&l.set&&h.push.apply(h,I([],T(S.map(function(b){return Oe(b[0],b[1],{set:function(){f({target:this})}})})),!1)),function(){h.forEach(function(b){return b()})}}function Se(t){var e=[];function n(r,a){if(Wr&&r.parentRule instanceof CSSGroupingRule||Zr&&r.parentRule instanceof CSSMediaRule||qr&&r.parentRule instanceof CSSSupportsRule||Vr&&r.parentRule instanceof CSSConditionRule){var i=Array.from(r.parentRule.cssRules),s=i.indexOf(r);a.unshift(s)}else{var i=Array.from(r.parentStyleSheet.cssRules),s=i.indexOf(r);a.unshift(s)}return a}return n(t,e)}function _o(t,e){var n=t.styleSheetRuleCb,r=t.mirror,a=e.win,i=a.CSSStyleSheet.prototype.insertRule;a.CSSStyleSheet.prototype.insertRule=function(u,f){var d=r.getId(this.ownerNode);return d!==-1&&n({id:d,adds:[{rule:u,index:f}]}),i.apply(this,arguments)};var s=a.CSSStyleSheet.prototype.deleteRule;a.CSSStyleSheet.prototype.deleteRule=function(u){var f=r.getId(this.ownerNode);return f!==-1&&n({id:f,removes:[{index:u}]}),s.apply(this,arguments)};var o={};Wr?o.CSSGroupingRule=a.CSSGroupingRule:(Zr&&(o.CSSMediaRule=a.CSSMediaRule),Vr&&(o.CSSConditionRule=a.CSSConditionRule),qr&&(o.CSSSupportsRule=a.CSSSupportsRule));var c={};return Object.entries(o).forEach(function(u){var f=T(u,2),d=f[0],p=f[1];c[d]={insertRule:p.prototype.insertRule,deleteRule:p.prototype.deleteRule},p.prototype.insertRule=function(h,l){var S=r.getId(this.parentStyleSheet.ownerNode);return S!==-1&&n({id:S,adds:[{rule:h,index:I(I([],T(Se(this)),!1),[l||0],!1)}]}),c[d].insertRule.apply(this,arguments)},p.prototype.deleteRule=function(h){var l=r.getId(this.parentStyleSheet.ownerNode);return l!==-1&&n({id:l,removes:[{index:I(I([],T(Se(this)),!1),[h],!1)}]}),c[d].deleteRule.apply(this,arguments)}}),function(){a.CSSStyleSheet.prototype.insertRule=i,a.CSSStyleSheet.prototype.deleteRule=s,Object.entries(o).forEach(function(u){var f=T(u,2),d=f[0],p=f[1];p.prototype.insertRule=c[d].insertRule,p.prototype.deleteRule=c[d].deleteRule})}}function mo(t,e){var n=t.styleDeclarationCb,r=t.mirror,a=e.win,i=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=function(o,c,u){var f,d,p=r.getId((d=(f=this.parentRule)===null||f===void 0?void 0:f.parentStyleSheet)===null||d===void 0?void 0:d.ownerNode);return p!==-1&&n({id:p,set:{property:o,value:c,priority:u},index:Se(this.parentRule)}),i.apply(this,arguments)};var s=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=function(o){var c,u,f=r.getId((u=(c=this.parentRule)===null||c===void 0?void 0:c.parentStyleSheet)===null||u===void 0?void 0:u.ownerNode);return f!==-1&&n({id:f,remove:{property:o},index:Se(this.parentRule)}),s.apply(this,arguments)},function(){a.CSSStyleDeclaration.prototype.setProperty=i,a.CSSStyleDeclaration.prototype.removeProperty=s}}function go(t){var e=t.mediaInteractionCb,n=t.blockClass,r=t.mirror,a=t.sampling,i=function(o){return se(function(c){var u=de(c);if(!(!u||Q(u,n))){var f=u,d=f.currentTime,p=f.volume,h=f.muted;e({type:o,id:r.getId(u),currentTime:d,volume:p,muted:h})}},a.media||500)},s=[nt("play",i(0)),nt("pause",i(1)),nt("seeked",i(2)),nt("volumechange",i(3))];return function(){s.forEach(function(o){return o()})}}function vo(t){var e=t.fontCb,n=t.doc,r=n.defaultView;if(!r)return function(){};var a=[],i=new WeakMap,s=r.FontFace;r.FontFace=function(u,f,d){var p=new s(u,f,d);return i.set(p,{family:u,buffer:typeof f!="string",descriptors:d,fontSource:typeof f=="string"?f:JSON.stringify(Array.from(new Uint8Array(f)))}),p};var o=Ht(n.fonts,"add",function(c){return function(u){return setTimeout(function(){var f=i.get(u);f&&(e(f),i.delete(u))},0),c.apply(this,[u])}});return a.push(function(){r.FontFace=s}),a.push(o),function(){a.forEach(function(c){return c()})}}function yo(t,e){var n=t.mutationCb,r=t.mousemoveCb,a=t.mouseInteractionCb,i=t.scrollCb,s=t.viewportResizeCb,o=t.inputCb,c=t.mediaInteractionCb,u=t.styleSheetRuleCb,f=t.styleDeclarationCb,d=t.canvasMutationCb,p=t.fontCb;t.mutationCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.mutation&&e.mutation.apply(e,I([],T(h),!1)),n.apply(void 0,I([],T(h),!1))},t.mousemoveCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.mousemove&&e.mousemove.apply(e,I([],T(h),!1)),r.apply(void 0,I([],T(h),!1))},t.mouseInteractionCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.mouseInteraction&&e.mouseInteraction.apply(e,I([],T(h),!1)),a.apply(void 0,I([],T(h),!1))},t.scrollCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.scroll&&e.scroll.apply(e,I([],T(h),!1)),i.apply(void 0,I([],T(h),!1))},t.viewportResizeCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.viewportResize&&e.viewportResize.apply(e,I([],T(h),!1)),s.apply(void 0,I([],T(h),!1))},t.inputCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.input&&e.input.apply(e,I([],T(h),!1)),o.apply(void 0,I([],T(h),!1))},t.mediaInteractionCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.mediaInteaction&&e.mediaInteaction.apply(e,I([],T(h),!1)),c.apply(void 0,I([],T(h),!1))},t.styleSheetRuleCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.styleSheetRule&&e.styleSheetRule.apply(e,I([],T(h),!1)),u.apply(void 0,I([],T(h),!1))},t.styleDeclarationCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.styleDeclaration&&e.styleDeclaration.apply(e,I([],T(h),!1)),f.apply(void 0,I([],T(h),!1))},t.canvasMutationCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.canvasMutation&&e.canvasMutation.apply(e,I([],T(h),!1)),d.apply(void 0,I([],T(h),!1))},t.fontCb=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];e.font&&e.font.apply(e,I([],T(h),!1)),p.apply(void 0,I([],T(h),!1))}}function bo(t,e){var n,r;e===void 0&&(e={});var a=t.doc.defaultView;if(!a)return function(){};yo(t,e);var i=Xr(t,t.doc),s=uo(t),o=lo(t),c=Kr(t),u=fo(t),f=po(t),d=go(t),p=_o(t,{win:a}),h=mo(t,{win:a}),l=t.collectFonts?vo(t):function(){},S=[];try{for(var b=gt(t.plugins),g=b.next();!g.done;g=b.next()){var v=g.value;S.push(v.observer(v.callback,a,v.options))}}catch(y){n={error:y}}finally{try{g&&!g.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}return function(){kt.forEach(function(y){return y.reset()}),i.disconnect(),s(),o(),c(),u(),f(),d(),p(),h(),l(),S.forEach(function(y){return y()})}}var wo=function(){function t(e){this.iframes=new WeakMap,this.mutationCb=e.mutationCb}return t.prototype.addIframe=function(e){this.iframes.set(e,!0)},t.prototype.addLoadListener=function(e){this.loadListener=e},t.prototype.attachIframe=function(e,n){var r;this.mutationCb({adds:[{parentId:e.__sn.id,nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(r=this.loadListener)===null||r===void 0||r.call(this,e)},t}(),Eo=function(){function t(e){this.restorePatches=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror;var n=this;this.restorePatches.push(Ht(HTMLElement.prototype,"attachShadow",function(r){return function(){var a=r.apply(this,arguments);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,this.ownerDocument),a}}))}return t.prototype.addShadowRoot=function(e,n){Xr(M(M({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e),Kr(M(M({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))},t.prototype.observeAttachShadow=function(e){if(e.contentWindow){var n=this;this.restorePatches.push(Ht(e.contentWindow.HTMLElement.prototype,"attachShadow",function(r){return function(){var a=r.apply(this,arguments);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,e.contentDocument),a}}))}},t.prototype.reset=function(){this.restorePatches.forEach(function(e){return e()})},t}();function So(t,e,n,r){var a,i,s=[],o=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype),c=function(p){try{if(typeof e.CanvasRenderingContext2D.prototype[p]!="function")return"continue";var h=Ht(e.CanvasRenderingContext2D.prototype,p,function(S){return function(){for(var b=this,g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];return Q(this.canvas,n)||setTimeout(function(){var y=I([],T(g),!1);if(p==="drawImage"&&y[0]&&y[0]instanceof HTMLCanvasElement){var k=y[0],w=k.getContext("2d"),_=w==null?void 0:w.getImageData(0,0,k.width,k.height),N=_==null?void 0:_.data;y[0]=JSON.stringify(N)}t(b.canvas,{type:$t["2D"],property:p,args:y})},0),S.apply(this,g)}});s.push(h)}catch{var l=Oe(e.CanvasRenderingContext2D.prototype,p,{set:function(b){t(this.canvas,{type:$t["2D"],property:p,args:[b],setter:!0})}});s.push(l)}};try{for(var u=gt(o),f=u.next();!f.done;f=u.next()){var d=f.value;c(d)}}catch(p){a={error:p}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}return function(){s.forEach(function(p){return p()})}}function ko(t,e){var n=[];try{var r=Ht(t.HTMLCanvasElement.prototype,"getContext",function(a){return function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return Q(this,e)||"__context"in this||(this.__context=i),a.apply(this,I([i],T(s),!1))}});n.push(r)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){n.forEach(function(a){return a()})}}var Lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _e=0;_e<Lt.length;_e++)xo[Lt.charCodeAt(_e)]=_e;var Ro=function(t){var e=new Uint8Array(t),n,r=e.length,a="";for(n=0;n<r;n+=3)a+=Lt[e[n]>>2],a+=Lt[(e[n]&3)<<4|e[n+1]>>4],a+=Lt[(e[n+1]&15)<<2|e[n+2]>>6],a+=Lt[e[n+2]&63];return r%3===2?a=a.substring(0,a.length-1)+"=":r%3===1&&(a=a.substring(0,a.length-2)+"=="),a},Gn=new Map;function To(t,e){var n=Gn.get(t);return n||(n=new Map,Gn.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}var Jr=function(t,e,n){if(!(!t||!(Qr(t,e)||typeof t=="object"))){var r=t.constructor.name,a=To(n,r),i=a.indexOf(t);return i===-1&&(i=a.length,a.push(t)),i}};function ge(t,e,n){if(t instanceof Array)return t.map(function(p){return ge(p,e,n)});if(t===null)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray){var r=t.constructor.name;return{rr_type:r,args:[Object.values(t)]}}else if(t instanceof ArrayBuffer){var a=t.constructor.name,i=Ro(t);return{rr_type:a,base64:i}}else if(t instanceof DataView){var s=t.constructor.name;return{rr_type:s,args:[ge(t.buffer,e,n),t.byteOffset,t.byteLength]}}else if(t instanceof HTMLImageElement){var o=t.constructor.name,c=t.src;return{rr_type:o,src:c}}else if(t instanceof ImageData){var u=t.constructor.name;return{rr_type:u,args:[ge(t.data,e,n),t.width,t.height]}}else if(Qr(t,e)||typeof t=="object"){var f=t.constructor.name,d=Jr(t,e,n);return{rr_type:f,index:d}}return t}var Io=function(t,e,n){return I([],T(t),!1).map(function(r){return ge(r,e,n)})},Qr=function(t,e){var n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"],r=n.filter(function(a){return typeof e[a]=="function"});return Boolean(r.find(function(a){return t instanceof e[a]}))};function Yn(t,e,n,r,a,i){var s,o,c=[],u=Object.getOwnPropertyNames(t),f=function(l){try{if(typeof t[l]!="function")return"continue";var S=Ht(t,l,function(g){return function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];var k=g.apply(this,v);if(Jr(k,i,t),!Q(this.canvas,r)){var w=a.getId(this.canvas),_=Io(I([],T(v),!1),i,t),N={type:e,property:l,args:_};n(this.canvas,N)}return k}});c.push(S)}catch{var b=Oe(t,l,{set:function(v){n(this.canvas,{type:e,property:l,args:[v],setter:!0})}});c.push(b)}};try{for(var d=gt(u),p=d.next();!p.done;p=d.next()){var h=p.value;f(h)}}catch(l){s={error:l}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(s)throw s.error}}return c}function No(t,e,n,r){var a=[];return a.push.apply(a,I([],T(Yn(e.WebGLRenderingContext.prototype,$t.WebGL,t,n,r,e)),!1)),typeof e.WebGL2RenderingContext<"u"&&a.push.apply(a,I([],T(Yn(e.WebGL2RenderingContext.prototype,$t.WebGL2,t,n,r,e)),!1)),function(){a.forEach(function(i){return i()})}}var Co=function(){function t(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=function(n,r){var a=this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId;(a||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(n)||this.pendingCanvasMutations.set(n,[]),this.pendingCanvasMutations.get(n).push(r)},this.mutationCb=e.mutationCb,this.mirror=e.mirror,e.recordCanvas===!0&&this.initCanvasMutationObserver(e.win,e.blockClass)}return t.prototype.reset=function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()},t.prototype.freeze=function(){this.frozen=!0},t.prototype.unfreeze=function(){this.frozen=!1},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t.prototype.initCanvasMutationObserver=function(e,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var r=ko(e,n),a=So(this.processMutation.bind(this),e,n,this.mirror),i=No(this.processMutation.bind(this),e,n,this.mirror);this.resetObservers=function(){r(),a(),i()}},t.prototype.startPendingCanvasMutationFlusher=function(){var e=this;requestAnimationFrame(function(){return e.flushPendingCanvasMutations()})},t.prototype.startRAFTimestamping=function(){var e=this,n=function(r){e.rafStamps.latestId=r,requestAnimationFrame(n)};requestAnimationFrame(n)},t.prototype.flushPendingCanvasMutations=function(){var e=this;this.pendingCanvasMutations.forEach(function(n,r){var a=e.mirror.getId(r);e.flushPendingCanvasMutationFor(r,a)}),requestAnimationFrame(function(){return e.flushPendingCanvasMutations()})},t.prototype.flushPendingCanvasMutationFor=function(e,n){if(!(this.frozen||this.locked)){var r=this.pendingCanvasMutations.get(e);if(!(!r||n===-1)){var a=r.map(function(s){s.type;var o=Us(s,["type"]);return o}),i=r[0].type;this.mutationCb({id:n,type:i,commands:a}),this.pendingCanvasMutations.delete(e)}}},t}();function j(t){return M(M({},t),{timestamp:Date.now()})}var B,ne,Kt=ao();function yt(t){t===void 0&&(t={});var e=t.emit,n=t.checkoutEveryNms,r=t.checkoutEveryNth,a=t.blockClass,i=a===void 0?"rr-block":a,s=t.blockSelector,o=s===void 0?null:s,c=t.ignoreClass,u=c===void 0?"rr-ignore":c,f=t.maskTextClass,d=f===void 0?"rr-mask":f,p=t.maskTextSelector,h=p===void 0?null:p,l=t.inlineStylesheet,S=l===void 0?!0:l,b=t.maskAllInputs,g=t.maskInputOptions,v=t.slimDOMOptions,y=t.maskInputFn,k=t.maskTextFn,w=t.hooks,_=t.packFn,N=t.sampling,U=N===void 0?{}:N,tt=t.mousemoveWait,X=t.recordCanvas,F=X===void 0?!1:X,Z=t.userTriggeredOnInput,L=Z===void 0?!1:Z,K=t.collectFonts,z=K===void 0?!1:K,q=t.inlineImages,A=q===void 0?!1:q,H=t.plugins,ut=t.keepIframeSrcFn,pt=ut===void 0?function(){return!1}:ut;if(!e)throw new Error("emit function is required");tt!==void 0&&U.mousemove===void 0&&(U.mousemove=tt);var _t=b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:g!==void 0?g:{password:!0},dt=v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:v==="all",headMetaDescKeywords:v==="all"}:v||{};io();var rt,P=0,mt=function(R){var J,C;try{for(var et=gt(H||[]),st=et.next();!st.done;st=et.next()){var bt=st.value;bt.eventProcessor&&(R=bt.eventProcessor(R))}}catch(he){J={error:he}}finally{try{st&&!st.done&&(C=et.return)&&C.call(et)}finally{if(J)throw J.error}}return _&&(R=_(R)),R};B=function(R,J){var C;if(!((C=kt[0])===null||C===void 0)&&C.isFrozen()&&R.type!==D.FullSnapshot&&!(R.type===D.IncrementalSnapshot&&R.data.source===W.Mutation)&&kt.forEach(function(bt){return bt.unfreeze()}),e(mt(R),J),R.type===D.FullSnapshot)rt=R,P=0;else if(R.type===D.IncrementalSnapshot){if(R.data.source===W.Mutation&&R.data.isAttachIframe)return;P++;var et=r&&P>=r,st=n&&R.timestamp-rt.timestamp>n;(et||st)&&ne(!0)}};var lt=function(R){B(j({type:D.IncrementalSnapshot,data:M({source:W.Mutation},R)}))},it=function(R){return B(j({type:D.IncrementalSnapshot,data:M({source:W.Scroll},R)}))},dn=function(R){return B(j({type:D.IncrementalSnapshot,data:M({source:W.CanvasMutation},R)}))},qt=new wo({mutationCb:lt}),fn=new Co({recordCanvas:F,mutationCb:dn,win:window,blockClass:i,mirror:Kt}),De=new Eo({mutationCb:lt,scrollCb:it,bypassOptions:{blockClass:i,blockSelector:o,maskTextClass:d,maskTextSelector:h,inlineStylesheet:S,maskInputOptions:_t,maskTextFn:k,maskInputFn:y,recordCanvas:F,inlineImages:A,sampling:U,slimDOMOptions:dt,iframeManager:qt,canvasManager:fn},mirror:Kt});ne=function(R){var J,C,et,st;R===void 0&&(R=!1),B(j({type:D.Meta,data:{href:window.location.href,width:Gr(),height:Pr()}}),R),kt.forEach(function(ot){return ot.lock()});var bt=T(ro(document,{blockClass:i,blockSelector:o,maskTextClass:d,maskTextSelector:h,inlineStylesheet:S,maskAllInputs:_t,maskTextFn:k,slimDOM:dt,recordCanvas:F,inlineImages:A,onSerialize:function(ot){Hr(ot)&&qt.addIframe(ot),jr(ot)&&De.addShadowRoot(ot.shadowRoot,document)},onIframeLoad:function(ot,va){qt.attachIframe(ot,va),De.observeAttachShadow(ot)},keepIframeSrcFn:pt}),2),he=bt[0],ga=bt[1];if(!he)return console.warn("Failed to snapshot the document");Kt.map=ga,B(j({type:D.FullSnapshot,data:{node:he,initialOffset:{left:window.pageXOffset!==void 0?window.pageXOffset:(document==null?void 0:document.documentElement.scrollLeft)||((C=(J=document==null?void 0:document.body)===null||J===void 0?void 0:J.parentElement)===null||C===void 0?void 0:C.scrollLeft)||(document==null?void 0:document.body.scrollLeft)||0,top:window.pageYOffset!==void 0?window.pageYOffset:(document==null?void 0:document.documentElement.scrollTop)||((st=(et=document==null?void 0:document.body)===null||et===void 0?void 0:et.parentElement)===null||st===void 0?void 0:st.scrollTop)||(document==null?void 0:document.body.scrollTop)||0}}})),kt.forEach(function(ot){return ot.unlock()})};try{var Vt=[];Vt.push(nt("DOMContentLoaded",function(){B(j({type:D.DomContentLoaded,data:{}}))}));var hn=function(R){var J;return bo({mutationCb:lt,mousemoveCb:function(C,et){return B(j({type:D.IncrementalSnapshot,data:{source:et,positions:C}}))},mouseInteractionCb:function(C){return B(j({type:D.IncrementalSnapshot,data:M({source:W.MouseInteraction},C)}))},scrollCb:it,viewportResizeCb:function(C){return B(j({type:D.IncrementalSnapshot,data:M({source:W.ViewportResize},C)}))},inputCb:function(C){return B(j({type:D.IncrementalSnapshot,data:M({source:W.Input},C)}))},mediaInteractionCb:function(C){return B(j({type:D.IncrementalSnapshot,data:M({source:W.MediaInteraction},C)}))},styleSheetRuleCb:function(C){return B(j({type:D.IncrementalSnapshot,data:M({source:W.StyleSheetRule},C)}))},styleDeclarationCb:function(C){return B(j({type:D.IncrementalSnapshot,data:M({source:W.StyleDeclaration},C)}))},canvasMutationCb:dn,fontCb:function(C){return B(j({type:D.IncrementalSnapshot,data:M({source:W.Font},C)}))},blockClass:i,ignoreClass:u,maskTextClass:d,maskTextSelector:h,maskInputOptions:_t,inlineStylesheet:S,sampling:U,recordCanvas:F,inlineImages:A,userTriggeredOnInput:L,collectFonts:z,doc:R,maskInputFn:y,maskTextFn:k,blockSelector:o,slimDOMOptions:dt,mirror:Kt,iframeManager:qt,shadowDomManager:De,canvasManager:fn,plugins:((J=H==null?void 0:H.filter(function(C){return C.observer}))===null||J===void 0?void 0:J.map(function(C){return{observer:C.observer,options:C.options,callback:function(et){return B(j({type:D.Plugin,data:{plugin:C.name,payload:et}}))}}}))||[]},w)};qt.addLoadListener(function(R){try{Vt.push(hn(R.contentDocument))}catch(J){console.warn("error in rrweb iframe observer",J)}});var pn=function(){ne(),Vt.push(hn(document))};return document.readyState==="interactive"||document.readyState==="complete"?pn():Vt.push(nt("load",function(){B(j({type:D.Load,data:{}})),pn()},window)),function(){Vt.forEach(function(R){return R()})}}catch(R){console.warn(R)}}yt.addCustomEvent=function(t,e){if(!B)throw new Error("please add custom event after start recording");B(j({type:D.Custom,data:{tag:t,payload:e}}))};yt.freezePage=function(){kt.forEach(function(t){return t.freeze()})};yt.takeFullSnapshot=function(t){if(!ne)throw new Error("please take full snapshot after start recording");ne(t)};yt.mirror=Kt;const Ao=["name","type","startTime","transferSize","duration"];function $n(t){return function(e){return Ao.every(n=>t[n]===e[n])}}function Oo(t,e){const[n,r,a]=t.reduce((c,u)=>(u.entryType==="navigation"?c[0].push(u):u.entryType==="largest-contentful-paint"?c[1].push(u):c[2].push(u),c),[[],[],[]]),i=[],s=[];let o=r.length?r[r.length-1]:void 0;return e.forEach(c=>{if(c.entryType==="largest-contentful-paint"){(!o||o.startTime<c.startTime)&&(o=c);return}if(c.entryType==="navigation"){const u=c;c.duration>0&&!n.find($n(u))&&!s.find($n(u))&&s.push(u);return}i.push(c)}),[...o?[o]:[],...n,...a,...i,...s].sort((c,u)=>c.startTime-u.startTime)}function Do(t){const e=r=>{const a=Oo(t.performanceEvents,r.getEntries());t.performanceEvents=a},n=new PerformanceObserver(e);return["element","event","first-input","largest-contentful-paint","layout-shift","longtask","navigation","paint","resource"].forEach(r=>{try{n.observe({type:r,buffered:!0})}catch{}}),n}const Lo=`/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
function t(t){let e=t.length;for(;--e>=0;)t[e]=0}const e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);t(s);const r=new Array(60);t(r);const o=new Array(512);t(o);const l=new Array(256);t(l);const h=new Array(29);t(h);const d=new Array(30);function _(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let f,c,u;function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}t(d);const m=t=>t<256?o[t]:o[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},g=(t,e,a)=>{t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},p=(t,e,a)=>{g(t,a[2*e],a[2*e+1])},k=(t,e)=>{let a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},v=(t,e,a)=>{const i=new Array(16);let n,s,r=0;for(n=1;n<=15;n++)r=r+a[n-1]<<1,i[n]=r;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=k(i[e]++,e))}},y=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},x=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,a,i)=>{const n=2*e,s=2*a;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[a]},A=(t,e,a)=>{const i=t.heap[a];let n=a<<1;for(;n<=t.heap_len&&(n<t.heap_len&&z(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!z(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i},E=(t,i,n)=>{let s,r,o,_,f=0;if(0!==t.sym_next)do{s=255&t.pending_buf[t.sym_buf+f++],s+=(255&t.pending_buf[t.sym_buf+f++])<<8,r=t.pending_buf[t.sym_buf+f++],0===s?p(t,r,i):(o=l[r],p(t,o+256+1,i),_=e[o],0!==_&&(r-=h[o],g(t,r,_)),s--,o=m(s),p(t,o,n),_=a[o],0!==_&&(s-=d[o],g(t,s,_)))}while(f<t.sym_next);p(t,256,i)},R=(t,e)=>{const a=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.elems;let r,o,l,h=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<s;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,a[2*l]=1,t.depth[l]=0,t.opt_len--,n&&(t.static_len-=i[2*l+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)A(t,a,r);l=s;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,a,1),o=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=o,a[2*l]=a[2*r]+a[2*o],t.depth[l]=(t.depth[r]>=t.depth[o]?t.depth[r]:t.depth[o])+1,a[2*r+1]=a[2*o+1]=l,t.heap[1]=l++,A(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const a=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,d,_,f,c,u,w=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(a[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)d=t.heap[h],f=a[2*a[2*d+1]+1]+1,f>l&&(f=l,w++),a[2*d+1]=f,d>i||(t.bl_count[f]++,c=0,d>=o&&(c=r[d-o]),u=a[2*d],t.opt_len+=u*(f+c),s&&(t.static_len+=u*(n[2*d+1]+c)));if(0!==w){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,w-=2}while(w>0);for(f=l;0!==f;f--)for(d=t.bl_count[f];0!==d;)_=t.heap[--h],_>i||(a[2*_+1]!==f&&(t.opt_len+=(f-a[2*_+1])*a[2*_],a[2*_+1]=f),d--)}})(t,e),v(a,h,t.bl_count)},Z=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=r,r=e[2*(i+1)+1],++o<l&&n===r||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4))},S=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),i=0;i<=a;i++)if(n=r,r=e[2*(i+1)+1],!(++o<l&&n===r)){if(o<h)do{p(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(p(t,n,t.bl_tree),o--),p(t,16,t.bl_tree),g(t,o-3,2)):o<=10?(p(t,17,t.bl_tree),g(t,o-3,3)):(p(t,18,t.bl_tree),g(t,o-11,7));o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4)}};let U=!1;const D=(t,e,a,i)=>{g(t,0+(i?1:0),3),x(t),b(t,a),b(t,~a),a&&t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a};var O=(t,e,a,i)=>{let o,l,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),R(t,t.l_desc),R(t,t.d_desc),h=(t=>{let e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*n[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),o=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=o&&(o=l)):o=l=a+5,a+4<=o&&-1!==e?D(t,e,a,i):4===t.strategy||l===o?(g(t,2+(i?1:0),3),E(t,s,r)):(g(t,4+(i?1:0),3),((t,e,a,i)=>{let s;for(g(t,e-257,5),g(t,a-1,5),g(t,i-4,4),s=0;s<i;s++)g(t,t.bl_tree[2*n[s]+1],3);S(t,t.dyn_ltree,e-1),S(t,t.dyn_dtree,a-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),E(t,t.dyn_ltree,t.dyn_dtree)),y(t),i&&x(t)},T={_tr_init:t=>{U||((()=>{let t,n,w,m,b;const g=new Array(16);for(w=0,m=0;m<28;m++)for(h[m]=w,t=0;t<1<<e[m];t++)l[w++]=m;for(l[w-1]=m,b=0,m=0;m<16;m++)for(d[m]=b,t=0;t<1<<a[m];t++)o[b++]=m;for(b>>=7;m<30;m++)for(d[m]=b<<7,t=0;t<1<<a[m]-7;t++)o[256+b++]=m;for(n=0;n<=15;n++)g[n]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,g[8]++;for(;t<=255;)s[2*t+1]=9,t++,g[9]++;for(;t<=279;)s[2*t+1]=7,t++,g[7]++;for(;t<=287;)s[2*t+1]=8,t++,g[8]++;for(v(s,287,g),t=0;t<30;t++)r[2*t+1]=5,r[2*t]=k(t,5);f=new _(s,e,257,286,15),c=new _(r,a,0,30,15),u=new _(new Array(0),i,0,19,7)})(),U=!0),t.l_desc=new w(t.dyn_ltree,f),t.d_desc=new w(t.dyn_dtree,c),t.bl_desc=new w(t.bl_tree,u),t.bi_buf=0,t.bi_valid=0,y(t)},_tr_stored_block:D,_tr_flush_block:O,_tr_tally:(t,e,a)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=a,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(l[a]+256+1)]++,t.dyn_dtree[2*m(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{g(t,2,3),p(t,256,s),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var N=(t,e,a,i)=>{let n=65535&t|0,s=t>>>16&65535|0,r=0;for(;0!==a;){r=a>2e3?2e3:a,a-=r;do{n=n+e[i++]|0,s=s+n|0}while(--r);n%=65521,s%=65521}return n|s<<16|0};const F=new Uint32Array((()=>{let t,e=[];for(var a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e})());var L=(t,e,a,i)=>{const n=F,s=i+a;t^=-1;for(let a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t},I={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:C,_tr_stored_block:H,_tr_flush_block:M,_tr_tally:j,_tr_align:K}=T,{Z_NO_FLUSH:P,Z_PARTIAL_FLUSH:Y,Z_FULL_FLUSH:G,Z_FINISH:X,Z_BLOCK:J,Z_OK:W,Z_STREAM_END:q,Z_STREAM_ERROR:Q,Z_DATA_ERROR:V,Z_BUF_ERROR:$,Z_DEFAULT_COMPRESSION:tt,Z_FILTERED:et,Z_HUFFMAN_ONLY:at,Z_RLE:it,Z_FIXED:nt,Z_DEFAULT_STRATEGY:st,Z_UNKNOWN:rt,Z_DEFLATED:ot}=B,lt=(t,e)=>(t.msg=I[e],e),ht=t=>2*t-(t>4?9:0),dt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},_t=t=>{let e,a,i,n=t.w_size;e=t.hash_size,i=e;do{a=t.head[--i],t.head[i]=a>=n?a-n:0}while(--e);e=n,i=e;do{a=t.prev[--i],t.prev[i]=a>=n?a-n:0}while(--e)};let ft=(t,e,a)=>(e<<t.hash_shift^a)&t.hash_mask;const ct=t=>{const e=t.state;let a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},ut=(t,e)=>{M(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ct(t.strm)},wt=(t,e)=>{t.pending_buf[t.pending++]=e},mt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},bt=(t,e,a,i)=>{let n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),a),1===t.state.wrap?t.adler=N(t.adler,e,n,a):2===t.state.wrap&&(t.adler=L(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)},gt=(t,e)=>{let a,i,n=t.max_chain_length,s=t.strstart,r=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,d=t.w_mask,_=t.prev,f=t.strstart+258;let c=h[s+r-1],u=h[s+r];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(a=e,h[a+r]===u&&h[a+r-1]===c&&h[a]===h[s]&&h[++a]===h[s+1]){s+=2,a++;do{}while(h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&s<f);if(i=258-(f-s),s=f-258,i>r){if(t.match_start=e,r=i,i>=o)break;c=h[s+r-1],u=h[s+r]}}}while((e=_[e&d])>l&&0!=--n);return r<=t.lookahead?r:t.lookahead},pt=t=>{const e=t.w_size;let a,i,n;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),_t(t),i+=e),0===t.strm.avail_in)break;if(a=bt(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=a,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=ft(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=ft(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},kt=(t,e)=>{let a,i,n,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r=0,o=t.strm.avail_in;do{if(a=65535,n=t.bi_valid+42>>3,t.strm.avail_out<n)break;if(n=t.strm.avail_out-n,i=t.strstart-t.block_start,a>i+t.strm.avail_in&&(a=i+t.strm.avail_in),a>n&&(a=n),a<s&&(0===a&&e!==X||e===P||a!==i+t.strm.avail_in))break;r=e===X&&a===i+t.strm.avail_in?1:0,H(t,0,0,r),t.pending_buf[t.pending-4]=a,t.pending_buf[t.pending-3]=a>>8,t.pending_buf[t.pending-2]=~a,t.pending_buf[t.pending-1]=~a>>8,ct(t.strm),i&&(i>a&&(i=a),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,a-=i),a&&(bt(t.strm,t.strm.output,t.strm.next_out,a),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a)}while(0===r);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),r?4:e!==P&&e!==X&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(n=t.window_size-t.strstart,t.strm.avail_in>n&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,n+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),n>t.strm.avail_in&&(n=t.strm.avail_in),n&&(bt(t.strm,t.window,t.strstart,n),t.strstart+=n,t.insert+=n>t.w_size-t.insert?t.w_size-t.insert:n),t.high_water<t.strstart&&(t.high_water=t.strstart),n=t.bi_valid+42>>3,n=t.pending_buf_size-n>65535?65535:t.pending_buf_size-n,s=n>t.w_size?t.w_size:n,i=t.strstart-t.block_start,(i>=s||(i||e===X)&&e!==P&&0===t.strm.avail_in&&i<=n)&&(a=i>n?n:i,r=e===X&&0===t.strm.avail_in&&a===i?1:0,H(t,t.block_start,a,r),t.block_start+=a,ct(t.strm)),r?3:1)},vt=(t,e)=>{let a,i;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a)),t.match_length>=3)if(i=j(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ft(t,t.ins_h,t.window[t.strstart+1]);else i=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2},yt=(t,e)=>{let a,i,n;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a),t.match_length<=5&&(t.strategy===et||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,i=j(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ut(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=j(t,0,t.window[t.strstart-1]),i&&ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=j(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2};function xt(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}const zt=[new xt(0,0,0,0,kt),new xt(4,4,8,4,vt),new xt(4,5,16,8,vt),new xt(4,6,32,32,vt),new xt(4,4,16,16,yt),new xt(8,16,32,32,yt),new xt(8,16,128,128,yt),new xt(8,32,128,256,yt),new xt(32,128,258,1024,yt),new xt(32,258,258,4096,yt)];function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),dt(this.dyn_ltree),dt(this.dyn_dtree),dt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),dt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),dt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Et=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},Rt=t=>{if(Et(t))return lt(t,Q);t.total_in=t.total_out=0,t.data_type=rt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,C(e),W},Zt=t=>{const e=Rt(t);var a;return e===W&&((a=t.state).window_size=2*a.w_size,dt(a.head),a.max_lazy_match=zt[a.level].max_lazy,a.good_match=zt[a.level].good_length,a.nice_match=zt[a.level].nice_length,a.max_chain_length=zt[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),e},St=(t,e,a,i,n,s)=>{if(!t)return Q;let r=1;if(e===tt&&(e=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),n<1||n>9||a!==ot||i<8||i>15||e<0||e>9||s<0||s>nt||8===i&&1!==r)return lt(t,Q);8===i&&(i=9);const o=new At;return t.state=o,o.strm=t,o.status=42,o.wrap=r,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=s,o.method=a,Zt(t)};var Ut={deflateInit:(t,e)=>St(t,e,ot,15,8,st),deflateInit2:St,deflateReset:Zt,deflateResetKeep:Rt,deflateSetHeader:(t,e)=>Et(t)||2!==t.state.wrap?Q:(t.state.gzhead=e,W),deflate:(t,e)=>{if(Et(t)||e>J||e<0)return t?lt(t,Q):Q;const a=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===a.status&&e!==X)return lt(t,0===t.avail_out?$:Q);const i=a.last_flush;if(a.last_flush=e,0!==a.pending){if(ct(t),0===t.avail_out)return a.last_flush=-1,W}else if(0===t.avail_in&&ht(e)<=ht(i)&&e!==X)return lt(t,$);if(666===a.status&&0!==t.avail_in)return lt(t,$);if(42===a.status&&0===a.wrap&&(a.status=113),42===a.status){let e=ot+(a.w_bits-8<<4)<<8,i=-1;if(i=a.strategy>=at||a.level<2?0:a.level<6?1:6===a.level?2:3,e|=i<<6,0!==a.strstart&&(e|=32),e+=31-e%31,mt(a,e),0!==a.strstart&&(mt(a,t.adler>>>16),mt(a,65535&t.adler)),t.adler=1,a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,W}if(57===a.status)if(t.adler=0,wt(a,31),wt(a,139),wt(a,8),a.gzhead)wt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),wt(a,255&a.gzhead.time),wt(a,a.gzhead.time>>8&255),wt(a,a.gzhead.time>>16&255),wt(a,a.gzhead.time>>24&255),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(wt(a,255&a.gzhead.extra.length),wt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=L(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,3),a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,W;if(69===a.status){if(a.gzhead.extra){let e=a.pending,i=(65535&a.gzhead.extra.length)-a.gzindex;for(;a.pending+i>a.pending_buf_size;){let n=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+n),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>e&&(t.adler=L(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex+=n,ct(t),0!==a.pending)return a.last_flush=-1,W;e=0,i-=n}let n=new Uint8Array(a.gzhead.extra);a.pending_buf.set(n.subarray(a.gzindex,a.gzindex+i),a.pending),a.pending+=i,a.gzhead.hcrc&&a.pending>e&&(t.adler=L(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=L(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,W;i=0}e=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=L(t.adler,a.pending_buf,a.pending-i,i)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=L(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,W;i=0}e=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=L(t.adler,a.pending_buf,a.pending-i,i))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(ct(t),0!==a.pending))return a.last_flush=-1,W;wt(a,255&t.adler),wt(a,t.adler>>8&255),t.adler=0}if(a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,W}if(0!==t.avail_in||0!==a.lookahead||e!==P&&666!==a.status){let i=0===a.level?kt(a,e):a.strategy===at?((t,e)=>{let a;for(;;){if(0===t.lookahead&&(pt(t),0===t.lookahead)){if(e===P)return 1;break}if(t.match_length=0,a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):a.strategy===it?((t,e)=>{let a,i,n,s;const r=t.window;for(;;){if(t.lookahead<=258){if(pt(t),t.lookahead<=258&&e===P)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=t.strstart-1,i=r[n],i===r[++n]&&i===r[++n]&&i===r[++n])){s=t.strstart+258;do{}while(i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&n<s);t.match_length=258-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=j(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):zt[a.level].func(a,e);if(3!==i&&4!==i||(a.status=666),1===i||3===i)return 0===t.avail_out&&(a.last_flush=-1),W;if(2===i&&(e===Y?K(a):e!==J&&(H(a,0,0,!1),e===G&&(dt(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),ct(t),0===t.avail_out))return a.last_flush=-1,W}return e!==X?W:a.wrap<=0?q:(2===a.wrap?(wt(a,255&t.adler),wt(a,t.adler>>8&255),wt(a,t.adler>>16&255),wt(a,t.adler>>24&255),wt(a,255&t.total_in),wt(a,t.total_in>>8&255),wt(a,t.total_in>>16&255),wt(a,t.total_in>>24&255)):(mt(a,t.adler>>>16),mt(a,65535&t.adler)),ct(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?W:q)},deflateEnd:t=>{if(Et(t))return Q;const e=t.state.status;return t.state=null,113===e?lt(t,V):W},deflateSetDictionary:(t,e)=>{let a=e.length;if(Et(t))return Q;const i=t.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return Q;if(1===n&&(t.adler=N(t.adler,e,a,0)),i.wrap=0,a>=i.w_size){0===n&&(dt(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(a-i.w_size,a),0),e=t,a=i.w_size}const s=t.avail_in,r=t.next_in,o=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,pt(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=ft(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,pt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=r,t.input=o,t.avail_in=s,i.wrap=n,W},deflateInfo:"pako deflate (from Nodeca project)"};const Dt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ot=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const e in a)Dt(a,e)&&(t[e]=a[e])}}return t},Tt=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const a=new Uint8Array(e);for(let e=0,i=0,n=t.length;e<n;e++){let n=t[e];a.set(n,i),i+=n.length}return a};let Nt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Nt=!1}const Ft=new Uint8Array(256);for(let t=0;t<256;t++)Ft[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ft[254]=Ft[254]=1;var Lt=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,i,n,s,r=t.length,o=0;for(n=0;n<r;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(o),s=0,n=0;s<o;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},It=(t,e)=>{const a=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,n;const s=new Array(2*a);for(n=0,i=0;i<a;){let e=t[i++];if(e<128){s[n++]=e;continue}let r=Ft[e];if(r>4)s[n++]=65533,i+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&i<a;)e=e<<6|63&t[i++],r--;r>1?s[n++]=65533:e<65536?s[n++]=e:(e-=65536,s[n++]=55296|e>>10&1023,s[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Nt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let a="";for(let i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a})(s,n)},Bt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let a=e-1;for(;a>=0&&128==(192&t[a]);)a--;return a<0||0===a?e:a+Ft[t[a]]>e?a:e};var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ht=Object.prototype.toString,{Z_NO_FLUSH:Mt,Z_SYNC_FLUSH:jt,Z_FULL_FLUSH:Kt,Z_FINISH:Pt,Z_OK:Yt,Z_STREAM_END:Gt,Z_DEFAULT_COMPRESSION:Xt,Z_DEFAULT_STRATEGY:Jt,Z_DEFLATED:Wt}=B;function qt(t){this.options=Ot({level:Xt,method:Wt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Jt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=Ut.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Yt)throw new Error(I[a]);if(e.header&&Ut.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Lt(e.dictionary):"[object ArrayBuffer]"===Ht.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=Ut.deflateSetDictionary(this.strm,t),a!==Yt)throw new Error(I[a]);this._dict_set=!0}}function Qt(t,e){const a=new qt(e);if(a.push(t,!0),a.err)throw a.msg||I[a.err];return a.result}qt.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize;let n,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Pt:Mt,"string"==typeof t?a.input=Lt(t):"[object ArrayBuffer]"===Ht.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(s===jt||s===Kt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if(n=Ut.deflate(a,s),n===Gt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=Ut.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Yt;if(0!==a.avail_out){if(s>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},qt.prototype.onData=function(t){this.chunks.push(t)},qt.prototype.onEnd=function(t){t===Yt&&(this.result=Tt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Vt={Deflate:qt,deflate:Qt,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Qt(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Qt(t,e)},constants:B};var $t=function(t,e){let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z,A;const E=t.state;a=t.next_in,z=t.input,i=a+(t.avail_in-5),n=t.next_out,A=t.output,s=n-(e-t.avail_out),r=n+(t.avail_out-257),o=E.dmax,l=E.wsize,h=E.whave,d=E.wnext,_=E.window,f=E.hold,c=E.bits,u=E.lencode,w=E.distcode,m=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;t:do{c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=u[f&m];e:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,0===p)A[n++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=u[(65535&g)+(f&(1<<p)-1)];continue e}if(32&p){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=16209;break t}k=65535&g,p&=15,p&&(c<p&&(f+=z[a++]<<c,c+=8),k+=f&(1<<p)-1,f>>>=p,c-=p),c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=w[f&b];a:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,!(16&p)){if(0==(64&p)){g=w[(65535&g)+(f&(1<<p)-1)];continue a}t.msg="invalid distance code",E.mode=16209;break t}if(v=65535&g,p&=15,c<p&&(f+=z[a++]<<c,c+=8,c<p&&(f+=z[a++]<<c,c+=8)),v+=f&(1<<p)-1,v>o){t.msg="invalid distance too far back",E.mode=16209;break t}if(f>>>=p,c-=p,p=n-s,v>p){if(p=v-p,p>h&&E.sane){t.msg="invalid distance too far back",E.mode=16209;break t}if(y=0,x=_,0===d){if(y+=l-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}else if(d<p){if(y+=l+d-p,p-=d,p<k){k-=p;do{A[n++]=_[y++]}while(--p);if(y=0,d<k){p=d,k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}}else if(y+=d-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}for(;k>2;)A[n++]=x[y++],A[n++]=x[y++],A[n++]=x[y++],k-=3;k&&(A[n++]=x[y++],k>1&&(A[n++]=x[y++]))}else{y=n-v;do{A[n++]=A[y++],A[n++]=A[y++],A[n++]=A[y++],k-=3}while(k>2);k&&(A[n++]=A[y++],k>1&&(A[n++]=A[y++]))}break}}break}}while(a<i&&n<r);k=c>>3,a-=k,c-=k<<3,f&=(1<<c)-1,t.next_in=a,t.next_out=n,t.avail_in=a<i?i-a+5:5-(a-i),t.avail_out=n<r?r-n+257:257-(n-r),E.hold=f,E.bits=c};const te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ee=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ae=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ne=(t,e,a,i,n,s,r,o)=>{const l=o.bits;let h,d,_,f,c,u,w=0,m=0,b=0,g=0,p=0,k=0,v=0,y=0,x=0,z=0,A=null;const E=new Uint16Array(16),R=new Uint16Array(16);let Z,S,U,D=null;for(w=0;w<=15;w++)E[w]=0;for(m=0;m<i;m++)E[e[a+m]]++;for(p=l,g=15;g>=1&&0===E[g];g--);if(p>g&&(p=g),0===g)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(b=1;b<g&&0===E[b];b++);for(p<b&&(p=b),y=1,w=1;w<=15;w++)if(y<<=1,y-=E[w],y<0)return-1;if(y>0&&(0===t||1!==g))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+E[w];for(m=0;m<i;m++)0!==e[a+m]&&(r[R[e[a+m]]++]=m);if(0===t?(A=D=r,u=20):1===t?(A=te,D=ee,u=257):(A=ae,D=ie,u=0),z=0,m=0,w=b,c=s,k=p,v=0,_=-1,x=1<<p,f=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){Z=w-v,r[m]+1<u?(S=0,U=r[m]):r[m]>=u?(S=D[r[m]-u],U=A[r[m]-u]):(S=96,U=0),h=1<<w-v,d=1<<k,b=d;do{d-=h,n[c+(z>>v)+d]=Z<<24|S<<16|U|0}while(0!==d);for(h=1<<w-1;z&h;)h>>=1;if(0!==h?(z&=h-1,z+=h):z=0,m++,0==--E[w]){if(w===g)break;w=e[a+r[m]]}if(w>p&&(z&f)!==_){for(0===v&&(v=p),c+=b,k=w-v,y=1<<k;k+v<g&&(y-=E[k+v],!(y<=0));)k++,y<<=1;if(x+=1<<k,1===t&&x>852||2===t&&x>592)return 1;_=z&f,n[_]=p<<24|k<<16|c-s|0}}return 0!==z&&(n[c+z]=w-v<<24|64<<16|0),o.bits=p,0};const{Z_FINISH:se,Z_BLOCK:re,Z_TREES:oe,Z_OK:le,Z_STREAM_END:he,Z_NEED_DICT:de,Z_STREAM_ERROR:_e,Z_DATA_ERROR:fe,Z_MEM_ERROR:ce,Z_BUF_ERROR:ue,Z_DEFLATED:we}=B,me=16209,be=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function ge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<16180||e.mode>16211?1:0},ke=t=>{if(pe(t))return _e;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,le},ve=t=>{if(pe(t))return _e;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ke(t)},ye=(t,e)=>{let a;if(pe(t))return _e;const i=t.state;return e<0?(a=0,e=-e):(a=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_e:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,ve(t))},xe=(t,e)=>{if(!t)return _e;const a=new ge;t.state=a,a.strm=t,a.window=null,a.mode=16180;const i=ye(t,e);return i!==le&&(t.state=null),i};let ze,Ae,Ee=!0;const Re=t=>{if(Ee){ze=new Int32Array(512),Ae=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ne(1,t.lens,0,288,ze,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ne(2,t.lens,0,32,Ae,0,t.work,{bits:5}),Ee=!1}t.lencode=ze,t.lenbits=9,t.distcode=Ae,t.distbits=5},Ze=(t,e,a,i)=>{let n;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(a-s.wsize,a),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),s.window.set(e.subarray(a-i,a-i+n),s.wnext),(i-=n)?(s.window.set(e.subarray(a-i,a),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0};var Se={inflateReset:ve,inflateReset2:ye,inflateResetKeep:ke,inflateInit:t=>xe(t,15),inflateInit2:xe,inflate:(t,e)=>{let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z=0;const A=new Uint8Array(4);let E,R;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pe(t)||!t.output||!t.input&&0!==t.avail_in)return _e;a=t.state,16191===a.mode&&(a.mode=16192),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,_=o,f=l,x=le;t:for(;;)switch(a.mode){case 16180:if(0===a.wrap){a.mode=16192;break}for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(2&a.wrap&&35615===h){0===a.wbits&&(a.wbits=15),a.check=0,A[0]=255&h,A[1]=h>>>8&255,a.check=L(a.check,A,2,0),h=0,d=0,a.mode=16181;break}if(a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=me;break}if((15&h)!==we){t.msg="unknown compression method",a.mode=me;break}if(h>>>=4,d-=4,y=8+(15&h),0===a.wbits&&(a.wbits=y),y>15||y>a.wbits){t.msg="invalid window size",a.mode=me;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=512&h?16189:16191,h=0,d=0;break;case 16181:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.flags=h,(255&a.flags)!==we){t.msg="unknown compression method",a.mode=me;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=me;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=L(a.check,A,2,0)),h=0,d=0,a.mode=16182;case 16182:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,a.check=L(a.check,A,4,0)),h=0,d=0,a.mode=16183;case 16183:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=L(a.check,A,2,0)),h=0,d=0,a.mode=16184;case 16184:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=L(a.check,A,2,0)),h=0,d=0}else a.head&&(a.head.extra=null);a.mode=16185;case 16185:if(1024&a.flags&&(c=a.length,c>o&&(c=o),c&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(i.subarray(s,s+c),y)),512&a.flags&&4&a.wrap&&(a.check=L(a.check,i,c,s)),o-=c,s+=c,a.length-=c),a.length))break t;a.length=0,a.mode=16186;case 16186:if(2048&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=L(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=16187;case 16187:if(4096&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=L(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.comment=null);a.mode=16188;case 16188:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(65535&a.check)){t.msg="header crc mismatch",a.mode=me;break}h=0,d=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=16191;break;case 16189:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}t.adler=a.check=be(h),h=0,d=0,a.mode=16190;case 16190:if(0===a.havedict)return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,de;t.adler=a.check=1,a.mode=16191;case 16191:if(e===re||e===oe)break t;case 16192:if(a.last){h>>>=7&d,d-=7&d,a.mode=16206;break}for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}switch(a.last=1&h,h>>>=1,d-=1,3&h){case 0:a.mode=16193;break;case 1:if(Re(a),a.mode=16199,e===oe){h>>>=2,d-=2;break t}break;case 2:a.mode=16196;break;case 3:t.msg="invalid block type",a.mode=me}h>>>=2,d-=2;break;case 16193:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=me;break}if(a.length=65535&h,h=0,d=0,a.mode=16194,e===oe)break t;case 16194:a.mode=16195;case 16195:if(c=a.length,c){if(c>o&&(c=o),c>l&&(c=l),0===c)break t;n.set(i.subarray(s,s+c),r),o-=c,s+=c,l-=c,r+=c,a.length-=c;break}a.mode=16191;break;case 16196:for(;d<14;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=me;break}a.have=0,a.mode=16197;case 16197:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.lens[Z[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[Z[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,E={bits:a.lenbits},x=ne(0,a.lens,0,19,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid code lengths set",a.mode=me;break}a.have=0,a.mode=16198;case 16198:for(;a.have<a.nlen+a.ndist;){for(;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(g<16)h>>>=m,d-=m,a.lens[a.have++]=g;else{if(16===g){for(R=m+2;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(h>>>=m,d-=m,0===a.have){t.msg="invalid bit length repeat",a.mode=me;break}y=a.lens[a.have-1],c=3+(3&h),h>>>=2,d-=2}else if(17===g){for(R=m+3;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=3+(7&h),h>>>=3,d-=3}else{for(R=m+7;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=11+(127&h),h>>>=7,d-=7}if(a.have+c>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=me;break}for(;c--;)a.lens[a.have++]=y}}if(a.mode===me)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=me;break}if(a.lenbits=9,E={bits:a.lenbits},x=ne(1,a.lens,0,a.nlen,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid literal/lengths set",a.mode=me;break}if(a.distbits=6,a.distcode=a.distdyn,E={bits:a.distbits},x=ne(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,E),a.distbits=E.bits,x){t.msg="invalid distances set",a.mode=me;break}if(a.mode=16199,e===oe)break t;case 16199:a.mode=16200;case 16200:if(o>=6&&l>=258){t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,$t(t,f),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,16191===a.mode&&(a.back=-1);break}for(a.back=0;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(b&&0==(240&b)){for(p=m,k=b,v=g;z=a.lencode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,a.length=g,0===b){a.mode=16205;break}if(32&b){a.back=-1,a.mode=16191;break}if(64&b){t.msg="invalid literal/length code",a.mode=me;break}a.extra=15&b,a.mode=16201;case 16201:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=16202;case 16202:for(;z=a.distcode[h&(1<<a.distbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(0==(240&b)){for(p=m,k=b,v=g;z=a.distcode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,64&b){t.msg="invalid distance code",a.mode=me;break}a.offset=g,a.extra=15&b,a.mode=16203;case 16203:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=me;break}a.mode=16204;case 16204:if(0===l)break t;if(c=f-l,a.offset>c){if(c=a.offset-c,c>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=me;break}c>a.wnext?(c-=a.wnext,u=a.wsize-c):u=a.wnext-c,c>a.length&&(c=a.length),w=a.window}else w=n,u=r-a.offset,c=a.length;c>l&&(c=l),l-=c,a.length-=c;do{n[r++]=w[u++]}while(--c);0===a.length&&(a.mode=16200);break;case 16205:if(0===l)break t;n[r++]=a.length,l--,a.mode=16200;break;case 16206:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=i[s++]<<d,d+=8}if(f-=l,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?L(a.check,n,f,r-f):N(a.check,n,f,r-f)),f=l,4&a.wrap&&(a.flags?h:be(h))!==a.check){t.msg="incorrect data check",a.mode=me;break}h=0,d=0}a.mode=16207;case 16207:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=me;break}h=0,d=0}a.mode=16208;case 16208:x=he;break t;case me:x=fe;break t;case 16210:return ce;default:return _e}return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||f!==t.avail_out&&a.mode<me&&(a.mode<16206||e!==se))&&Ze(t,t.output,t.next_out,f-t.avail_out),_-=t.avail_in,f-=t.avail_out,t.total_in+=_,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?L(a.check,n,f,t.next_out-f):N(a.check,n,f,t.next_out-f)),t.data_type=a.bits+(a.last?64:0)+(16191===a.mode?128:0)+(16199===a.mode||16194===a.mode?256:0),(0===_&&0===f||e===se)&&x===le&&(x=ue),x},inflateEnd:t=>{if(pe(t))return _e;let e=t.state;return e.window&&(e.window=null),t.state=null,le},inflateGetHeader:(t,e)=>{if(pe(t))return _e;const a=t.state;return 0==(2&a.wrap)?_e:(a.head=e,e.done=!1,le)},inflateSetDictionary:(t,e)=>{const a=e.length;let i,n,s;return pe(t)?_e:(i=t.state,0!==i.wrap&&16190!==i.mode?_e:16190===i.mode&&(n=1,n=N(n,e,a,0),n!==i.check)?fe:(s=Ze(t,e,a,a),s?(i.mode=16210,ce):(i.havedict=1,le)))},inflateInfo:"pako inflate (from Nodeca project)"};var Ue=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const De=Object.prototype.toString,{Z_NO_FLUSH:Oe,Z_FINISH:Te,Z_OK:Ne,Z_STREAM_END:Fe,Z_NEED_DICT:Le,Z_STREAM_ERROR:Ie,Z_DATA_ERROR:Be,Z_MEM_ERROR:Ce}=B;function He(t){this.options=Ot({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=Se.inflateInit2(this.strm,e.windowBits);if(a!==Ne)throw new Error(I[a]);if(this.header=new Ue,Se.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Lt(e.dictionary):"[object ArrayBuffer]"===De.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=Se.inflateSetDictionary(this.strm,e.dictionary),a!==Ne)))throw new Error(I[a])}He.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let s,r,o;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Te:Oe,"[object ArrayBuffer]"===De.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),s=Se.inflate(a,r),s===Le&&n&&(s=Se.inflateSetDictionary(a,n),s===Ne?s=Se.inflate(a,r):s===Be&&(s=Le));a.avail_in>0&&s===Fe&&a.state.wrap>0&&0!==t[a.next_in];)Se.inflateReset(a),s=Se.inflate(a,r);switch(s){case Ie:case Be:case Le:case Ce:return this.onEnd(s),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(0===a.avail_out||s===Fe))if("string"===this.options.to){let t=Bt(a.output,a.next_out),e=a.next_out-t,n=It(a.output,t);a.next_out=e,a.avail_out=i-e,e&&a.output.set(a.output.subarray(t,t+e),0),this.onData(n)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(s!==Ne||0!==o){if(s===Fe)return s=Se.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},He.prototype.onData=function(t){this.chunks.push(t)},He.prototype.onEnd=function(t){t===Ne&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Tt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:Me,deflate:je,deflateRaw:Ke,gzip:Pe}=Vt;var Ye=Me,Ge=B;const Xe=new class{constructor(){this.added=0,this.init()}init(){this.added=0,this.deflate=new Ye,this.deflate.push("[",Ge.Z_NO_FLUSH)}addEvent(t){if(!t)throw new Error("Adding invalid event");const e=this.added>0?",":"";this.deflate.push(e+JSON.stringify(t),Ge.Z_SYNC_FLUSH),this.added++}finish(){if(this.deflate.push("]",Ge.Z_FINISH),this.deflate.err)throw this.deflate.err;const t=this.deflate.result;return this.init(),t}},Je={init:()=>(Xe.init(),""),addEvent:t=>Xe.addEvent(t),finish:()=>Xe.finish()};addEventListener("message",(function(t){const e=t.data.method,a=t.data.id,[i]=t.data.args?JSON.parse(t.data.args):[];if(e in Je&&"function"==typeof Je[e])try{const t=Je[e](i);postMessage({id:a,method:e,success:!0,response:t})}catch(t){postMessage({id:a,method:e,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});`;function Uo({useCompression:t}){if(t&&window.Worker){const e=new Blob([Lo]),n=URL.createObjectURL(e);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Replay] Using compression worker");const r=new Worker(n);return new Mo(r)}return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Replay] Using simple buffer"),new ta}class Mo{constructor(e){this._fallback=new ta,this._compression=new re(e),this._used=this._fallback,this._ensureWorkerIsLoaded()}get pendingLength(){return this._used.pendingLength}get pendingEvents(){return this._used.pendingEvents}destroy(){this._fallback.destroy(),this._compression.destroy()}addEvent(e,n){return this._used.addEvent(e,n)}finish(){return this._used.finish()}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Replay] Failed to load the compression worker, falling back to simple buffer");return}const e=[];for(const n of this._fallback.pendingEvents)e.push(this._compression.addEvent(n));this._used=this._compression,await Promise.all(e)}}class ta{constructor(){this._events=[]}get pendingLength(){return this._events.length}get pendingEvents(){return this._events}destroy(){this._events=[]}async addEvent(e,n){if(n){this._events=[e];return}this._events.push(e)}finish(){return new Promise(e=>{const n=this._events;this._events=[],e(JSON.stringify(n))})}}class re{__init(){this._pendingEvents=[]}__init2(){this._eventBufferItemLength=0}__init3(){this._id=0}constructor(e){re.prototype.__init.call(this),re.prototype.__init2.call(this),re.prototype.__init3.call(this),this._worker=e}get pendingLength(){return this._eventBufferItemLength}get pendingEvents(){return this._pendingEvents}ensureReady(){return new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})})}destroy(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Replay] Destroying compression worker"),this._worker.terminate()}async addEvent(e,n){return n&&await this._postMessage({id:this._getAndIncrementId(),method:"init",args:[]}),n||this._pendingEvents.push(e),this._sendEventToWorker(e)}finish(){return this._finishRequest(this._getAndIncrementId())}_postMessage({id:e,method:n,args:r}){return new Promise((a,i)=>{const s=({data:c})=>{if(c.method===n&&c.id===e){if(this._worker.removeEventListener("message",s),!c.success){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}a(c.response)}};let o;try{o=JSON.stringify(r)}catch(c){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] Error when trying to stringify args",c),o="[]"}this._worker.addEventListener("message",s),this._worker.postMessage({id:e,method:n,args:o})})}async _sendEventToWorker(e){const n=this._postMessage({id:this._getAndIncrementId(),method:"addEvent",args:[e]});return this._eventBufferItemLength++,n}async _finishRequest(e){const n=this._postMessage({id:e,method:"finish",args:[]});return this._eventBufferItemLength=0,await n,this._pendingEvents=[],n}_getAndIncrementId(){return this._id++}}function Xe(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function ea(t,e,n=+new Date){return Xe(t.started,Br,n)||Xe(t.lastActivity,e,n)}function na(t){if("sessionStorage"in Y)try{Y.sessionStorage.setItem(Mr,JSON.stringify(t))}catch{}}function Hn(t){return t===void 0?!1:Math.random()<t}function ra(t){const e=new Date().getTime(),n=t.id||er(),r=t.started||e,a=t.lastActivity||e,i=t.segmentId||0,s=t.sampled;return{id:n,started:r,lastActivity:a,segmentId:i,sampled:s}}function zo(t,e){return Hn(t)?"session":Hn(e)?"error":!1}function Bo({sessionSampleRate:t,errorSampleRate:e,stickySession:n=!1}){const r=zo(t,e),a=ra({sampled:r});return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Replay] Creating new session: ${a.id}`),n&&na(a),a}function Fo(){if(!("sessionStorage"in Y))return null;try{const e=Y.sessionStorage.getItem(Mr);if(!e)return null;const n=JSON.parse(e);return ra(n)}catch{return null}}function Po({expiry:t,currentSession:e,stickySession:n,sessionSampleRate:r,errorSampleRate:a}){const i=e||n&&Fo();if(i)if(ea(i,t))(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Replay] Session has expired");else return{type:"saved",session:i};return{type:"new",session:Bo({stickySession:n,sessionSampleRate:r,errorSampleRate:a})}}async function ke(t,e,n){if(!t.eventBuffer||t.isPaused())return null;const a=e.timestamp>9999999999?e.timestamp:e.timestamp*1e3;if(a+Jt<new Date().getTime())return null;const i=t.getContext().earliestEvent;return t.session&&t.session.segmentId===0&&(!i||a<i)&&(t.getContext().earliestEvent=a),t.eventBuffer.addEvent(e,n)}function xe(t){return{timestamp:new Date().getTime()/1e3,type:"default",...t}}function aa(t,e){e.category!=="sentry.transaction"&&(e.category==="ui.click"?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(ke(t,{type:D.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:e}}),e.category==="console")))}const Go=t=>e=>{if(!t.isEnabled())return;const n=Yo(e);n&&aa(t,n)};function Yo(t){let e,n;try{n=$o(t),e=Pe(n)}catch{e="<unknown>"}return e.length===0?null:xe({category:`ui.${t.name}`,message:e,data:{...n?{nodeId:yt.mirror.getId(n)}:{}}})}function $o(t){return Ho(t.event)?t.event.target:t.event}function Ho(t){return!!t.target}function fe(t,e){return e.map(({type:n,start:r,end:a,name:i,data:s})=>ke(t,{type:D.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:a,data:s}}}))}function ia(t,e){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&t.getOptions()._experiments.traceInternals?!1:!jo(e)}function jo(t){const e=x().getClient(),n=e&&e.getDsn();return n?t.includes(n.host):!1}function Wo(t){if(!t.endTimestamp)return null;const{startTimestamp:e,endTimestamp:n,fetchData:r,response:a}=t;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:r.url,data:{method:r.method,statusCode:a.status}}}function Zo(t){return e=>{if(!t.isEnabled())return;const n=Wo(e);n!==null&&(ia(t,n.name)||t.addUpdate(()=>(fe(t,[n]),!0)))}}function qo(t){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:t.exception.values.some(e=>!e.stacktrace||!e.stacktrace.frames||!e.stacktrace.frames.length?!1:e.stacktrace.frames.some(n=>n.filename&&n.filename.includes("/rrweb/src/")))}function Vo(t){return e=>{if(e.type===zr)return delete e.breadcrumbs,e;if(qo(e)&&!t.getOptions()._experiments.captureExceptions)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Replay] Ignoring error from rrweb internals",e),null;if((!e.type||t.recordingMode==="session")&&(e.tags={...e.tags,replayId:t.getSessionId()}),e.type==="transaction"&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id)return t.getContext().traceIds.add(e.contexts.trace.trace_id),e;if(e.type||t.getContext().errorIds.add(e.event_id),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&t.getOptions()._experiments.traceInternals){const n=Ko(e);Xo({message:`Tagging event (${e.event_id}) - ${e.message} - ${n.type}: ${n.value}`})}return t.recordingMode==="error"&&e.exception&&e.message!==an&&setTimeout(async()=>{await t.flushImmediate(),t.stopRecording()&&(t.recordingMode="session",t.startRecording())}),e}}function Xo(t){const{category:e,level:n,message:r,...a}=t;Va({category:e||"console",level:n||"debug",message:`[debug]: ${r}`,...a})}function Ko(t){return{type:"Unknown",value:"n/a",...t.exception&&t.exception.values&&t.exception.values[0]}}function Jo(t){const{from:e,to:n}=t,r=new Date().getTime()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}function Qo(t){return e=>{if(!t.isEnabled())return;const n=Jo(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(fe(t,[n]),!1)))}}let jn=null;const tc=t=>e=>{if(!t.isEnabled())return;const n=ec(e);n&&aa(t,n)};function ec(t){const e=t.getLastBreadcrumb();return jn===e||!e||(jn=e,e.category&&(["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")))?null:xe(e)}function nc(t){if(t.xhr.__sentry_own_request__||(t.startTimestamp&&(t.xhr.__sentry_xhr__=t.xhr.__sentry_xhr__||{},t.xhr.__sentry_xhr__.startTimestamp=t.startTimestamp),!t.endTimestamp))return null;const{method:e,url:n,status_code:r}=t.xhr.__sentry_xhr__||{};if(n===void 0)return null;const a=t.xhr.__sentry_xhr__?t.xhr.__sentry_xhr__.startTimestamp||0:t.endTimestamp;return{type:"resource.xhr",name:n,start:a/1e3,end:t.endTimestamp/1e3,data:{method:e,statusCode:r}}}function rc(t){return e=>{if(!t.isEnabled())return;const n=nc(e);n!==null&&(ia(t,n.name)||t.addUpdate(()=>(fe(t,[n]),!0)))}}function ac(t){const e=x().getScope();e&&e.addScopeListener(tc(t)),at("dom",Go(t)),at("fetch",Zo(t)),at("xhr",rc(t)),at("history",Qo(t)),Ie(Vo(t))}async function ic(t){try{return Promise.all(fe(t,[sc(Y.performance.memory)]))}catch{return[]}}function sc(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,a=new Date().getTime()/1e3;return{type:"memory",name:"memory",start:a,end:a,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}const Wn={resource:dc,paint:uc,navigation:lc,["largest-contentful-paint"]:fc};function oc(t){return t.map(cc).filter(Boolean)}function cc(t){return Wn[t.entryType]===void 0?null:Wn[t.entryType](t)}function jt(t){return((Da||Y.performance.timeOrigin)+t)/1e3}function uc(t){const{duration:e,entryType:n,name:r,startTime:a}=t,i=jt(a);return{type:n,name:r,start:i,end:i+e}}function lc(t){const{entryType:e,name:n,duration:r,domComplete:a,startTime:i,transferSize:s,type:o}=t;return r===0?null:{type:`${e}.${o}`,start:jt(i),end:jt(a),name:n,data:{size:s,duration:r}}}function dc(t){const{entryType:e,initiatorType:n,name:r,responseEnd:a,startTime:i,encodedBodySize:s,transferSize:o}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:jt(i),end:jt(a),name:r,data:{size:o,encodedBodySize:s}}}function fc(t){const{duration:e,entryType:n,startTime:r,size:a}=t,i=jt(r);return{type:n,name:n,start:i,end:i+e,data:{duration:e,size:a,nodeId:yt.mirror.getId(t.element)}}}function hc(t,e,n){let r,a,i;const s=n&&n.maxWait?Math.max(n.maxWait,e):0;function o(){return c(),r=t(),r}function c(){a!==void 0&&clearTimeout(a),i!==void 0&&clearTimeout(i),a=i=void 0}function u(){return a!==void 0||i!==void 0?o():r}function f(){return a&&clearTimeout(a),a=setTimeout(o,e),s&&i===void 0&&s!==e&&(i=setTimeout(o,s)),r}return f.cancel=c,f.flush=u,f}let Ke;function pc(t){const e=x().getClient();if(!e)return;const n=e.recordDroppedEvent.bind(e),r=(a,i,s)=>(s&&!s.type&&s.event_id&&t.delete(s.event_id),n(a,i,s));e.recordDroppedEvent=r,Ke=n}function _c(){const t=x().getClient();!t||!Ke||(t.recordDroppedEvent=Ke)}function mc(t,e,n,r){return ue(pr(t,en(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function gc({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+t.length),n.set(i),n.set(t,i.length)}return n}async function vc({client:t,scope:e,replayId:n,event:r}){const a=await Er(t.getOptions(),r,{event_id:n},e);if(!a)return null;a.platform=a.platform||"javascript";const i=t.getSdkMetadata&&t.getSdkMetadata(),{name:s,version:o}=i&&i.sdk||{};return a.sdk={...a.sdk,name:s||"sentry.javascript.unknown",version:o||"0.0.0"},a}async function yc({recordingData:t,replayId:e,segmentId:n,includeReplayStartTimestamp:r,eventContext:a,timestamp:i,session:s,options:o}){const c=gc({recordingData:t,headers:{segment_id:n}}),{urls:u,errorIds:f,traceIds:d,initialTimestamp:p}=a,h=x(),l=h.getClient(),S=h.getScope(),b=l&&l.getTransport(),g=l&&l.getDsn();if(!l||!S||!b||!g||!s.sampled)return;const v={type:zr,...r?{replay_start_timestamp:p/1e3}:{},timestamp:i/1e3,error_ids:f,trace_ids:d,urls:u,replay_id:e,segment_id:n,replay_type:s.sampled},y=await vc({scope:S,client:l,replayId:e,event:v});if(!y){l.recordDroppedEvent("event_processor","replay",v),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("An event processor returned `null`, will not send event.");return}y.tags={...y.tags,sessionSampleRate:o.sessionSampleRate,errorSampleRate:o.errorSampleRate};const k=mc(y,c,g,l.getOptions().tunnel);let w;try{w=await b.send(k)}catch{throw new Error(an)}if(!w)return w;const _=gr({},w);if(mr(_,"replay"))throw new on(_);if(typeof w.statusCode=="number"&&(w.statusCode<200||w.statusCode>=300))throw new sa(w.statusCode);return w}class on extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}class sa extends Error{constructor(e){super(`Transport returned status code ${e}`)}}async function oa(t,e={count:0,interval:Ds}){const{recordingData:n,options:r}=t;if(n.length)try{return await yc(t),!0}catch(a){if(a instanceof on||a instanceof sa)throw a;if(Xa("Replays",{_retryCount:e.count}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r._experiments&&r._experiments.captureExceptions&&Ae(a),e.count>=Ls)throw new Error(`${an} - max retries exceeded`);return e.interval*=++e.count,await new Promise((i,s)=>{setTimeout(async()=>{try{await oa(t,e),i(!0)}catch(o){s(o)}},e.interval)})}}class G{__init(){this.eventBuffer=null}__init2(){this.performanceEvents=[]}__init3(){this.recordingMode="session"}__init4(){this._performanceObserver=null}__init5(){this._flushLock=null}__init6(){this._lastActivity=new Date().getTime()}__init7(){this._isEnabled=!1}__init8(){this._isPaused=!1}__init9(){this._hasInitializedCoreListeners=!1}__init10(){this._stopRecording=null}__init11(){this._context={errorIds:new Set,traceIds:new Set,urls:[],earliestEvent:null,initialTimestamp:new Date().getTime(),initialUrl:""}}constructor({options:e,recordingOptions:n}){G.prototype.__init.call(this),G.prototype.__init2.call(this),G.prototype.__init3.call(this),G.prototype.__init4.call(this),G.prototype.__init5.call(this),G.prototype.__init6.call(this),G.prototype.__init7.call(this),G.prototype.__init8.call(this),G.prototype.__init9.call(this),G.prototype.__init10.call(this),G.prototype.__init11.call(this),G.prototype.__init12.call(this),G.prototype.__init13.call(this),G.prototype.__init14.call(this),G.prototype.__init15.call(this),G.prototype.__init16.call(this),this._recordingOptions=n,this._options=e,this._debouncedFlush=hc(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay})}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}start(){if(this._setInitialState(),this._loadSession({expiry:Jt}),!this.session){this._handleException(new Error("No session found"));return}this.session.sampled&&(this.session.sampled==="error"&&(this.recordingMode="error"),this._updateSessionActivity(),this.eventBuffer=Uo({useCompression:this._options.useCompression}),this._addListeners(),this._isEnabled=!0,this.startRecording())}startRecording(){try{this._stopRecording=yt({...this._recordingOptions,...this.recordingMode==="error"&&{checkoutEveryNms:6e4},emit:this._handleRecordingEmit})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording?(this._stopRecording(),this._stopRecording=void 0,!0):!1}catch(e){return this._handleException(e),!1}}stop(){try{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Replay] Stopping Replays"),this._isEnabled=!1,this._removeListeners(),this.stopRecording(),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,this._debouncedFlush.cancel()}catch(e){this._handleException(e)}}pause(){this._isPaused=!0,this.stopRecording()}resume(){this._isPaused=!1,this.startRecording()}addUpdate(e){const n=e();this.recordingMode!=="error"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){this._loadSession({expiry:Jt}),this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession({expiry:e=Jt}={}){const n=this.getSessionId();if(this._lastActivity&&Xe(this._lastActivity,Br)){this.pause();return}return this._loadSession({expiry:e}),n!==this.getSessionId()?(this._triggerFullSnapshot(),!1):!0}_handleException(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay]",e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._options._experiments&&this._options._experiments.captureExceptions&&Ae(e)}_loadSession({expiry:e}){const{type:n,session:r}=Po({expiry:e,stickySession:Boolean(this._options.stickySession),currentSession:this.session,sessionSampleRate:this._options.sessionSampleRate,errorSampleRate:this._options.errorSampleRate});n==="new"&&this._setInitialState();const a=this.getSessionId();r.id!==a&&(r.previousSessionId=a),this.session=r}_setInitialState(){const e=`${Y.location.pathname}${Y.location.hash}${Y.location.search}`,n=`${Y.location.origin}${e}`;this.performanceEvents=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=new Date().getTime(),this._context.urls.push(n)}_addListeners(){try{Y.document.addEventListener("visibilitychange",this._handleVisibilityChange),Y.addEventListener("blur",this._handleWindowBlur),Y.addEventListener("focus",this._handleWindowFocus),pc(this._context.errorIds),this._hasInitializedCoreListeners||(ac(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}"_performanceObserver"in Y&&(this._performanceObserver=Do(this))}_removeListeners(){try{Y.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Y.removeEventListener("blur",this._handleWindowBlur),Y.removeEventListener("focus",this._handleWindowFocus),_c(),this._performanceObserver&&(this._performanceObserver.disconnect(),this._performanceObserver=null)}catch(e){this._handleException(e)}}__init12(){this._handleRecordingEmit=(e,n)=>{if(!this.checkAndHandleExpiredSession()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] Received replay event after session expired.");return}this.addUpdate(()=>(this.recordingMode==="error"&&e.type===2&&this._setInitialState(),ke(this,e,n),e.type!==2?!1:(this.session&&this.session.previousSessionId||(this.recordingMode==="error"&&this.session&&this._context.earliestEvent&&(this.session.started=this._context.earliestEvent,this._maybeSaveSession()),this.recordingMode==="session"&&this.flushImmediate()),!0)))}}__init13(){this._handleVisibilityChange=()=>{Y.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init14(){this._handleWindowBlur=()=>{const e=xe({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init15(){this._handleWindowFocus=()=>{const e=xe({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;const n=ea(this.session,Cn);e&&!n&&this._createCustomBreadcrumb(e),this._conditionalFlush()}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession({expiry:Cn})){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Replay] Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_triggerFullSnapshot(){try{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Replay] Taking full rrweb snapshot"),yt.takeFullSnapshot(!0)}catch(e){this._handleException(e)}}_updateUserActivity(e=new Date().getTime()){this._lastActivity=e}_updateSessionActivity(e=new Date().getTime()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{ke(this,{type:D.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){const e=[...this.performanceEvents];return this.performanceEvents=[],Promise.all(fe(this,oc(e)))}_conditionalFlush(){this.recordingMode!=="error"&&this.flushImmediate()}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[],this._context.earliestEvent=null}_popEventContext(){this._context.earliestEvent&&this._context.earliestEvent<this._context.initialTimestamp&&(this._context.initialTimestamp=this._context.earliestEvent);const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds).filter(Boolean),traceIds:Array.from(this._context.traceIds).filter(Boolean),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){if(!this.session||!this.eventBuffer){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.pendingLength)&&(await ic(this),!!this.eventBuffer))try{const e=await this.eventBuffer.finish(),n=this.session.id,r=this._popEventContext(),a=this.session.segmentId++;this._maybeSaveSession(),await oa({replayId:n,recordingData:e,segmentId:a,includeReplayStartTimestamp:a===0,eventContext:r,session:this.session,options:this.getOptions(),timestamp:new Date().getTime()})}catch(e){if(this._handleException(e),e instanceof on){this._handleRateLimit(e.rateLimits);return}this.stop()}}__init16(){this._flush=async()=>{if(this._isEnabled){if(!this.checkAndHandleExpiredSession()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] No session found to flush.");return}if(this._debouncedFlush.cancel(),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=null;return}try{await this._flushLock}catch(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error(e)}finally{this._debouncedFlush()}}}}_maybeSaveSession(){this.session&&this._options.stickySession&&na(this.session)}_handleRateLimit(e){if(this.isPaused())return;const r=_r(e,"replay")-Date.now();r>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("[Replay]",`Rate limit hit, pausing replay for ${r}ms`),this.pause(),this._debouncedFlush.cancel(),setTimeout(()=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.info("[Replay]","Resuming replay after rate limit"),this.resume()},r))}}function Zn(){return typeof window<"u"&&(!Oa()||bc())}function bc(){return typeof process<"u"&&process.type==="renderer"}const qn="img,image,svg,path,rect,area,video,object,picture,embed,map,audio";let Vn=!1;class Re{static __initStatic(){this.id="Replay"}__init(){this.name=Re.id}constructor({flushMinDelay:e=As,flushMaxDelay:n=Os,stickySession:r=!0,useCompression:a=!0,sessionSampleRate:i,errorSampleRate:s,maskAllText:o,maskTextSelector:c,maskAllInputs:u=!0,blockAllMedia:f=!0,_experiments:d={},blockClass:p="sentry-block",ignoreClass:h="sentry-ignore",maskTextClass:l="sentry-mask",blockSelector:S="[data-sentry-block]",...b}={}){if(Re.prototype.__init.call(this),this._recordingOptions={maskAllInputs:u,blockClass:p,ignoreClass:h,maskTextClass:l,maskTextSelector:c,blockSelector:S,...b},this._options={flushMinDelay:e,flushMaxDelay:n,stickySession:r,sessionSampleRate:0,errorSampleRate:0,useCompression:a,maskAllText:typeof o=="boolean"?o:!c,blockAllMedia:f,_experiments:d},typeof i=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${i} })`),this._options.sessionSampleRate=i),typeof s=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${s} })`),this._options.errorSampleRate=s),this._options.maskAllText&&(this._recordingOptions.maskTextSelector=Cs),this._options.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${qn}`:qn),this._isInitialized&&Zn())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Vn}set _isInitialized(e){Vn=e}setupOnce(){Zn()&&(this._setup(),setTimeout(()=>this.start()))}start(){this._replay&&this._replay.start()}stop(){this._replay&&this._replay.stop()}flush(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.flushImmediate()}_setup(){this._loadReplayOptionsFromClient(),this._replay=new G({options:this._options,recordingOptions:this._recordingOptions})}_loadReplayOptionsFromClient(){const e=x().getClient(),n=e&&e.getOptions();n&&typeof n.replaysSessionSampleRate=="number"&&(this._options.sessionSampleRate=n.replaysSessionSampleRate),n&&typeof n.replaysOnErrorSampleRate=="number"&&(this._options.errorSampleRate=n.replaysOnErrorSampleRate)}}Re.__initStatic();let ca={};E.Sentry&&E.Sentry.Integrations&&(ca=E.Sentry.Integrations);const Jc={...ca,...Si,...Ns};function Qc(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:be}],version:be},Rs(t)}const ua="ui.react.render",wc="ui.react.update",la="ui.react.mount",Xn="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",Ec="unknown";class oe extends ct.Component{__init(){this._mountSpan=void 0}__init2(){this._updateSpan=void 0}static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(e){super(e),oe.prototype.__init.call(this),oe.prototype.__init2.call(this);const{name:n,disabled:r=!1}=this.props;if(r)return;const a=da();a&&(this._mountSpan=a.startChild({description:`<${n}>`,op:la}))}componentDidMount(){this._mountSpan&&this._mountSpan.finish()}shouldComponentUpdate({updateProps:e,includeUpdates:n=!0}){if(n&&this._mountSpan&&e!==this.props.updateProps){const r=Object.keys(e).filter(a=>e[a]!==this.props.updateProps[a]);if(r.length>0){const a=Ge();this._updateSpan=this._mountSpan.startChild({data:{changedProps:r},description:`<${this.props.name}>`,op:wc,startTimestamp:a})}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.finish(),this._updateSpan=void 0)}componentWillUnmount(){const{name:e,includeRender:n=!0}=this.props;this._mountSpan&&n&&this._mountSpan.startChild({description:`<${e}>`,endTimestamp:Ge(),op:ua,startTimestamp:this._mountSpan.endTimestamp})}render(){return this.props.children}}oe.__initStatic();function tu(t,e){const n=e&&e.name||t.displayName||t.name||Ec,r=a=>ct.createElement(oe,{...e,name:n,updateProps:a,__self:this,__source:{fileName:Xn,lineNumber:146}},ct.createElement(t,{...a,__self:this,__source:{fileName:Xn,lineNumber:147}}));return r.displayName=`profiler(${n})`,Ne(r,t),r}function eu(t,e={disabled:!1,hasRenderSpan:!0}){const[n]=ct.useState(()=>{if(e&&e.disabled)return;const r=da();if(r)return r.startChild({description:`<${t}>`,op:la})});ct.useEffect(()=>(n&&n.finish(),()=>{n&&e.hasRenderSpan&&n.startChild({description:`<${t}>`,endTimestamp:Ge(),op:ua,startTimestamp:n.endTimestamp})}),[])}function da(t=x()){if(t){const e=t.getScope();if(e)return e.getTransaction()}}const Kn="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function Sc(t){const e=t.match(/^([^.]+)/);return e!==null&&parseInt(e[0])>=17}const kc="unknown",Jn={componentStack:null,error:null,eventId:null};class Te extends ct.Component{constructor(...e){super(...e),Te.prototype.__init.call(this),Te.prototype.__init2.call(this)}__init(){this.state=Jn}componentDidCatch(e,{componentStack:n}){const{beforeCapture:r,onError:a,showDialog:i,dialogOptions:s}=this.props;vr(o=>{if(Sc(ct.version)&&ir(e)){const u=new Error(e.message);u.name=`React ErrorBoundary ${u.name}`,u.stack=n,e.cause=u}r&&r(o,e,n);const c=Ae(e,{contexts:{react:{componentStack:n}}});a&&a(e,n,c),i&&Ts({...s,eventId:c}),this.setState({error:e,componentStack:n,eventId:c})})}componentDidMount(){const{onMount:e}=this.props;e&&e()}componentWillUnmount(){const{error:e,componentStack:n,eventId:r}=this.state,{onUnmount:a}=this.props;a&&a(e,n,r)}__init2(){this.resetErrorBoundary=()=>{const{onReset:e}=this.props,{error:n,componentStack:r,eventId:a}=this.state;e&&e(n,r,a),this.setState(Jn)}}render(){const{fallback:e,children:n}=this.props,{error:r,componentStack:a,eventId:i}=this.state;if(r){let s;return typeof e=="function"?s=e({error:r,componentStack:a,resetError:this.resetErrorBoundary,eventId:i}):s=e,ct.isValidElement(s)?s:(e&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function nu(t,e){const n=t.displayName||t.name||kc,r=a=>ct.createElement(Te,{...e,__self:this,__source:{fileName:Kn,lineNumber:174}},ct.createElement(t,{...a,__self:this,__source:{fileName:Kn,lineNumber:175}}));return r.displayName=`errorBoundary(${n})`,Ne(r,t),r}const xc="redux.action",Rc="info",Tc={actionTransformer:t=>t,stateTransformer:t=>t||null};function ru(t){const e={...Tc,...t};return n=>(r,a)=>n((s,o)=>{const c=r(s,o);return qa(u=>{const f=e.actionTransformer(o);typeof f<"u"&&f!==null&&u.addBreadcrumb({category:xc,data:f,type:Rc});const d=e.stateTransformer(c);typeof d<"u"&&d!==null?u.setContext("state",{state:{type:"redux",value:d}}):u.setContext("state",null);const{configureScopeWithState:p}=e;typeof p=="function"&&p(u,c)}),c},a)}function au(t,e,n){return(r,a=!0,i=!0)=>{let s,o;a&&E&&E.location&&Qn(e,E.location,n,(c,u="url")=>{o=c,s=r({name:o,op:"pageload",tags:{"routing.instrumentation":"react-router-v3"},metadata:{source:u}})}),i&&t.listen&&t.listen(c=>{if(c.action==="PUSH"||c.action==="POP"){s&&s.finish();const u={"routing.instrumentation":"react-router-v3"};o&&(u.from=o),Qn(e,c,n,(f,d="url")=>{o=f,s=r({name:o,op:"navigation",tags:u,metadata:{source:d}})})}})}}function Qn(t,e,n,r){let a=e.pathname;n({location:e,routes:t},(i,s,o)=>{if(i||!o)return r(a);const c=Ic(o.routes||[]);return c.length===0||c==="/*"?r(a):(a=c,r(a,"route"))})}function Ic(t){if(!Array.isArray(t)||t.length===0)return"";const e=t.filter(r=>!!r.path);let n=-1;for(let r=e.length-1;r>=0;r--){const a=e[r];if(a.path&&a.path.startsWith("/")){n=r;break}}return e.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}const Nc="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouter.tsx";let Ut;function iu(t,e,n){return fa(t,"react-router-v4",e,n)}function su(t,e,n){return fa(t,"react-router-v5",e,n)}function fa(t,e,n=[],r){function a(){if(t&&t.location)return t.location.pathname;if(E&&E.location)return E.location.pathname}function i(o){if(n.length===0||!r)return[o,"url"];const c=ha(n,o,r);for(let u=0;u<c.length;u++)if(c[u].match.isExact)return[c[u].match.path,"route"];return[o,"url"]}const s={"routing.instrumentation":e};return(o,c=!0,u=!0)=>{const f=a();if(c&&f){const[d,p]=i(f);Ut=o({name:d,op:"pageload",tags:s,metadata:{source:p}})}u&&t.listen&&t.listen((d,p)=>{if(p&&(p==="PUSH"||p==="POP")){Ut&&Ut.finish();const[h,l]=i(d.pathname);Ut=o({name:h,op:"navigation",tags:s,metadata:{source:l}})}})}}function ha(t,e,n,r=[]){return t.some(a=>{const i=a.path?n(e,a):r.length?r[r.length-1].match:Cc(e);return i&&(r.push({route:a,match:i}),a.routes&&ha(a.routes,e,n,r)),!!i}),r}function Cc(t){return{path:"/",url:"/",params:{},isExact:t==="/"}}function ou(t){const e=t.displayName||t.name,n=r=>(Ut&&r&&r.computedMatch&&r.computedMatch.isExact&&Ut.setName(r.computedMatch.path,"route"),ct.createElement(t,{...r,__self:this,__source:{fileName:Nc,lineNumber:174}}));return n.displayName=`sentryRoute(${e})`,Ne(n,t),n}const pa="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouterv6.tsx";let vt,Mt,zt,Bt,ve,Wt,ce,cn;const _a={"routing.instrumentation":"react-router-v6"};function cu(t,e,n,r,a){return(i,s=!0,o=!0)=>{const c=E&&E.location&&E.location.pathname;s&&c&&(vt=i({name:c,op:"pageload",tags:_a,metadata:{source:"url"}})),Mt=t,zt=e,Bt=n,Wt=a,ve=r,ce=i,cn=o}}function ma(t,e,n){if(!t||t.length===0)return[e.pathname,"url"];let r="";if(n)for(let a=0;a<n.length;a++){const i=n[a],s=i.route;if(s){if(s.index)return[i.pathname,"route"];const o=s.path;if(o){const c=o[0]==="/"||r[r.length-1]==="/"?o:`/${o}`;if(r+=c,i.pathname===e.pathname)return yn(r)!==yn(i.pathname)&&r.slice(-2)!=="/*"?[c,"route"]:[r,"route"]}}}return[e.pathname,"url"]}function un(t,e,n){const r=Array.isArray(n)?n:Wt(e,t);vt&&r&&vt.setName(...ma(e,t,r))}function ln(t,e,n,r){const a=Array.isArray(r)?r:Wt(e,t);if(cn&&(n==="PUSH"||n==="POP")&&a){vt&&vt.finish();const[i,s]=ma(e,t,a);vt=ce({name:i,op:"navigation",tags:_a,metadata:{source:s}})}}function uu(t){if(!Mt||!zt||!Bt||!ve||!Wt||!ce)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${Mt}. useLocation: ${zt}. useNavigationType: ${Bt}.
      createRoutesFromChildren: ${ve}. matchRoutes: ${Wt}. customStartTransaction: ${ce}.`),t;let e=!0;const n=r=>{const a=zt(),i=Bt();return Mt(()=>{const s=ve(r.children);e?(un(a,s),e=!1):ln(a,s,i)},[a,i]),lr.createElement(t,{...r,__self:this,__source:{fileName:pa,lineNumber:197}})};return Ne(n,t),n}function lu(t){if(!Mt||!zt||!Bt||!Wt||!ce)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),t;let e=!0;return(n,r)=>{const a=()=>{const i=t(n,r),s=zt(),o=Bt(),c=typeof r=="string"||r&&r.pathname?r:s;return Mt(()=>{const u=typeof c=="string"?{pathname:c}:c;e?(un(u,n),e=!1):ln(u,n,o)},[o,c]),i};return lr.createElement(a,{__self:this,__source:{fileName:pa,lineNumber:248}})}}function du(t){return function(e,n){const r=t(e,n);return r.state.historyAction==="POP"&&vt&&un(r.state.location,e),r.subscribe(a=>{const i=a.location;cn&&(a.historyAction==="PUSH"||a.historyAction==="POP")&&vt&&ln(i,e,a.historyAction)}),r}}export{Gt as Breadcrumbs,Mi as BrowserClient,It as Dedupe,Te as ErrorBoundary,Pt as FunctionToString,ft as GlobalHandlers,Tt as HttpContext,pu as Hub,xt as InboundFilters,Jc as Integrations,Rt as LinkedErrors,oe as Profiler,Re as Replay,be as SDK_VERSION,Aa as Scope,Yt as TryCatch,E as WINDOW,Va as addBreadcrumb,Ie as addGlobalEventProcessor,zc as captureEvent,Ae as captureException,Mc as captureMessage,Xi as chromeStackLineParser,Xc as close,qa as configureScope,ru as createReduxEnhancer,xr as createTransport,xs as defaultIntegrations,cs as defaultStackLineParsers,us as defaultStackParser,Ni as eventFromException,Ci as eventFromMessage,Vc as flush,Zc as forceLoad,ts as geckoStackLineParser,x as getCurrentHub,_u as getHubFromCarrier,Qc as init,Wc as lastEventId,Fi as makeFetchTransport,mu as makeMain,Gi as makeXHRTransport,qc as onLoad,Hc as opera10StackLineParser,jc as opera11StackLineParser,au as reactRouterV3Instrumentation,iu as reactRouterV4Instrumentation,su as reactRouterV5Instrumentation,cu as reactRouterV6Instrumentation,Xa as setContext,Fc as setExtra,Bc as setExtras,Gc as setTag,Pc as setTags,Yc as setUser,Ts as showReportDialog,$c as startTransaction,eu as useProfiler,rs as winjsStackLineParser,nu as withErrorBoundary,tu as withProfiler,vr as withScope,uu as withSentryReactRouterV6Routing,ou as withSentryRouting,Kc as wrap,du as wrapCreateBrowserRouter,lu as wrapUseRoutes};
