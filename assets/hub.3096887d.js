import{l as E,J as z,D as p,K as Z,F as A,B as G,L as tt,M as F,E as et,e as $,b as C,d as nt,f as st,a as it,N as J,O as rt,G as N}from"./misc.54984152.js";const u=F(),S={},q={};function ot(n){if(!q[n])switch(q[n]=!0,n){case"console":at();break;case"dom":gt();break;case"xhr":_t();break;case"fetch":ut();break;case"history":dt();break;case"error":mt();break;case"unhandledrejection":St();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&E.warn("unknown instrumentation type:",n);return}}function Lt(n,t){S[n]=S[n]||[],S[n].push(t),ot(n)}function d(n,t){if(!(!n||!S[n]))for(const e of S[n]||[])try{e(t)}catch(s){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&E.error(`Error while triggering instrumentation handler.
Type: ${n}
Name: ${et(e)}
Error:`,s)}}function at(){"console"in u&&z.forEach(function(n){n in u.console&&p(u.console,n,function(t){return function(...e){d("console",{args:e,level:n}),t&&t.apply(u.console,e)}})})}function ut(){!Z()||p(u,"fetch",function(n){return function(...t){const e={args:t,fetchData:{method:ct(t),url:ht(t)},startTimestamp:Date.now()};return d("fetch",{...e}),n.apply(u,t).then(s=>(d("fetch",{...e,endTimestamp:Date.now(),response:s}),s),s=>{throw d("fetch",{...e,endTimestamp:Date.now(),error:s}),s})}})}function ct(n=[]){return"Request"in u&&A(n[0],Request)&&n[0].method?String(n[0].method).toUpperCase():n[1]&&n[1].method?String(n[1].method).toUpperCase():"GET"}function ht(n=[]){return typeof n[0]=="string"?n[0]:"Request"in u&&A(n[0],Request)?n[0].url:String(n[0])}function _t(){if(!("XMLHttpRequest"in u))return;const n=XMLHttpRequest.prototype;p(n,"open",function(t){return function(...e){const s=this,i=e[1],r=s.__sentry_xhr__={method:G(e[0])?e[0].toUpperCase():e[0],url:e[1]};G(i)&&r.method==="POST"&&i.match(/sentry_key/)&&(s.__sentry_own_request__=!0);const o=function(){if(s.readyState===4){try{r.status_code=s.status}catch{}d("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:s})}};return"onreadystatechange"in s&&typeof s.onreadystatechange=="function"?p(s,"onreadystatechange",function(c){return function(...a){return o(),c.apply(s,a)}}):s.addEventListener("readystatechange",o),t.apply(s,e)}}),p(n,"send",function(t){return function(...e){return this.__sentry_xhr__&&e[0]!==void 0&&(this.__sentry_xhr__.body=e[0]),d("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}})}let b;function dt(){if(!tt())return;const n=u.onpopstate;u.onpopstate=function(...e){const s=u.location.href,i=b;if(b=s,d("history",{from:i,to:s}),n)try{return n.apply(this,e)}catch{}};function t(e){return function(...s){const i=s.length>2?s[2]:void 0;if(i){const r=b,o=String(i);b=o,d("history",{from:r,to:o})}return e.apply(this,s)}}p(u.history,"pushState",t),p(u.history,"replaceState",t)}const ft=1e3;let T,D;function lt(n,t){if(!n||n.type!==t.type)return!0;try{if(n.target!==t.target)return!0}catch{}return!1}function pt(n){if(n.type!=="keypress")return!1;try{const t=n.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function Y(n,t=!1){return e=>{if(!e||D===e||pt(e))return;const s=e.type==="keypress"?"input":e.type;T===void 0?(n({event:e,name:s,global:t}),D=e):lt(D,e)&&(n({event:e,name:s,global:t}),D=e),clearTimeout(T),T=u.setTimeout(()=>{T=void 0},ft)}}function gt(){if(!("document"in u))return;const n=d.bind(null,"dom"),t=Y(n,!0);u.document.addEventListener("click",t,!1),u.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(e=>{const s=u[e]&&u[e].prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(p(s,"addEventListener",function(i){return function(r,o,c){if(r==="click"||r=="keypress")try{const a=this,h=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},f=h[r]=h[r]||{refCount:0};if(!f.handler){const M=Y(n);f.handler=M,i.call(this,r,M,c)}f.refCount+=1}catch{}return i.call(this,r,o,c)}}),p(s,"removeEventListener",function(i){return function(r,o,c){if(r==="click"||r=="keypress")try{const a=this,h=a.__sentry_instrumentation_handlers__||{},f=h[r];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,r,f.handler,c),f.handler=void 0,delete h[r]),Object.keys(h).length===0&&delete a.__sentry_instrumentation_handlers__)}catch{}return i.call(this,r,o,c)}}))})}let w=null;function mt(){w=u.onerror,u.onerror=function(n,t,e,s,i){return d("error",{column:s,error:i,line:e,msg:n,url:t}),w?w.apply(this,arguments):!1}}let L=null;function St(){L=u.onunhandledrejection,u.onunhandledrejection=function(n){return d("unhandledrejection",n),L?L.apply(this,arguments):!0}}function Et(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function V(){return!Et()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function k(n,t){return n.require(t)}function Pt(n){let t;try{t=k(module,n)}catch{}try{const{cwd:e}=k(module,"process");t=k(module,`${e()}/node_modules/${n}`)}catch{}return t}var l;(function(n){n[n.PENDING=0]="PENDING";const e=1;n[n.RESOLVED=e]="RESOLVED";const s=2;n[n.REJECTED=s]="REJECTED"})(l||(l={}));function It(n){return new _(t=>{t(n)})}function Ut(n){return new _((t,e)=>{e(n)})}class _{__init(){this._state=l.PENDING}__init2(){this._handlers=[]}constructor(t){_.prototype.__init.call(this),_.prototype.__init2.call(this),_.prototype.__init3.call(this),_.prototype.__init4.call(this),_.prototype.__init5.call(this),_.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}then(t,e){return new _((s,i)=>{this._handlers.push([!1,r=>{if(!t)s(r);else try{s(t(r))}catch(o){i(o)}},r=>{if(!e)i(r);else try{s(e(r))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(e=>e,t)}finally(t){return new _((e,s)=>{let i,r;return this.then(o=>{r=!1,i=o,t&&t()},o=>{r=!0,i=o,t&&t()}).then(()=>{if(r){s(i);return}e(i)})})}__init3(){this._resolve=t=>{this._setResult(l.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(l.REJECTED,t)}}__init5(){this._setResult=(t,e)=>{if(this._state===l.PENDING){if($(e)){e.then(this._resolve,this._reject);return}this._state=t,this._value=e,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===l.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(e=>{e[0]||(this._state===l.RESOLVED&&e[1](this._value),this._state===l.REJECTED&&e[2](this._value),e[0]=!0)})}}}function vt(n){if(!n)return{};const t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const e=t[6]||"",s=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+e+s}}function Bt(n){return n.split(/[\?#]/,1)[0]}function Ht(n){return n.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}const W=F(),U={nowSeconds:()=>Date.now()/1e3};function yt(){const{performance:n}=W;if(!n||!n.now)return;const t=Date.now()-n.now();return{now:()=>n.now(),timeOrigin:t}}function bt(){try{return k(module,"perf_hooks").performance}catch{return}}const P=V()?bt():yt(),j=P===void 0?U:{nowSeconds:()=>(P.timeOrigin+P.now())/1e3},X=U.nowSeconds.bind(U),v=j.nowSeconds.bind(j),Mt=v,Gt=(()=>{const{performance:n}=W;if(!n||!n.now)return;const t=3600*1e3,e=n.now(),s=Date.now(),i=n.timeOrigin?Math.abs(n.timeOrigin+e-s):t,r=i<t,o=n.timing&&n.timing.navigationStart,a=typeof o=="number"?Math.abs(o+e-s):t,h=a<t;return r||h?i<=a?n.timeOrigin:o:s})();function Tt(n){const t=v(),e={sid:C(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Nt(e)};return n&&O(e,n),e}function O(n,t={}){if(t.user&&(!n.ipAddress&&t.user.ip_address&&(n.ipAddress=t.user.ip_address),!n.did&&!t.did&&(n.did=t.user.id||t.user.email||t.user.username)),n.timestamp=t.timestamp||v(),t.ignoreDuration&&(n.ignoreDuration=t.ignoreDuration),t.sid&&(n.sid=t.sid.length===32?t.sid:C()),t.init!==void 0&&(n.init=t.init),!n.did&&t.did&&(n.did=`${t.did}`),typeof t.started=="number"&&(n.started=t.started),n.ignoreDuration)n.duration=void 0;else if(typeof t.duration=="number")n.duration=t.duration;else{const e=n.timestamp-n.started;n.duration=e>=0?e:0}t.release&&(n.release=t.release),t.environment&&(n.environment=t.environment),!n.ipAddress&&t.ipAddress&&(n.ipAddress=t.ipAddress),!n.userAgent&&t.userAgent&&(n.userAgent=t.userAgent),typeof t.errors=="number"&&(n.errors=t.errors),t.status&&(n.status=t.status)}function Dt(n,t){let e={};t?e={status:t}:n.status==="ok"&&(e={status:"exited"}),O(n,e)}function Nt(n){return nt({sid:`${n.sid}`,init:n.init,started:new Date(n.started*1e3).toISOString(),timestamp:new Date(n.timestamp*1e3).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}const kt=100;class m{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const e=new m;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments],e._sdkProcessingMetadata={...t._sdkProcessingMetadata}),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&O(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return e===null?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const e=t(this);return e instanceof m?e:this}return t instanceof m?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):st(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,e){const s=typeof e=="number"?e:kt;if(s<=0)return this;const i={timestamp:X(),...t};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-s),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const s=this._span.transaction&&this._span.transaction.name;s&&(t.tags={transaction:s,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...K(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,e,s,i=0){return new _((r,o)=>{const c=t[i];if(e===null||typeof c!="function")r(e);else{const a=c({...e},s);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&c.id&&a===null&&E.log(`Event processor "${c.id}" dropped event`),$(a)?a.then(h=>this._notifyEventProcessors(t,h,s,i+1).then(r)).then(null,o):this._notifyEventProcessors(t,a,s,i+1).then(r).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?it(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function K(){return J("globalEventProcessors",()=>[])}function qt(n){K().push(n)}const I="00000000000000000000000000000000",B=4,Ot=100;class y{__init(){this._stack=[{}]}constructor(t,e=new m,s=B){this._version=s,y.prototype.__init.call(this),this.getStackTop().scope=e,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const e=this.getStackTop();e.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=m.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const s=new Error("Sentry syntheticException");return this._lastEventId=this._withClient((i,r)=>i.captureException(t,{originalException:t,syntheticException:s,...e},r))||I,this._lastEventId}captureMessage(t,e,s){const i=new Error(t);return this._lastEventId=this._withClient((r,o)=>r.captureMessage(t,e,{originalException:t,syntheticException:i,...s},o))||I,this._lastEventId}captureEvent(t,e){const s=this._withClient((i,r)=>i.captureEvent(t,{...e},r))||I;return t.type!=="transaction"&&(this._lastEventId=s),s}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:s,client:i}=this.getStackTop();if(!s||!i)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:o=Ot}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const a={timestamp:X(),...t},h=r?rt(()=>r(a,e)):a;h!==null&&s.addBreadcrumb(h,o)}setUser(t){const e=this.getScope();e&&e.setUser(t)}setTags(t){const e=this.getScope();e&&e.setTags(t)}setExtras(t){const e=this.getScope();e&&e.setExtras(t)}setTag(t,e){const s=this.getScope();s&&s.setTag(t,e)}setExtra(t,e){const s=this.getScope();s&&s.setExtra(t,e)}setContext(t,e){const s=this.getScope();s&&s.setContext(t,e)}configureScope(t){const{scope:e,client:s}=this.getStackTop();e&&s&&t(e)}run(t){const e=x(this);try{t(this)}finally{x(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&E.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){return this._callExtensionMethod("startTransaction",t,e)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop(),e=t&&t.scope,s=e&&e.getSession();s&&Dt(s),this._sendSessionUpdate(),e&&e.setSession()}startSession(t){const{scope:e,client:s}=this.getStackTop(),{release:i,environment:r}=s&&s.getOptions()||{},{userAgent:o}=N.navigator||{},c=Tt({release:i,environment:r,...e&&{user:e.getUser()},...o&&{userAgent:o},...t});if(e){const a=e.getSession&&e.getSession();a&&a.status==="ok"&&O(a,{status:"exited"}),this.endSession(),e.setSession(c)}return c}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop();if(!t)return;const s=t.getSession();s&&e&&e.captureSession&&e.captureSession(s)}_withClient(t){const{scope:e,client:s}=this.getStackTop();return s&&t(s,e)}_callExtensionMethod(t,...e){const i=R().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,e);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&E.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function R(){return N.__SENTRY__=N.__SENTRY__||{extensions:{},hub:void 0},N}function x(n){const t=R(),e=g(t);return H(t,n),e}function Yt(){const n=R();return(!Q(n)||g(n).isOlderThan(B))&&H(n,new y),V()?Rt(n):g(n)}function Rt(n){try{const t=R().__SENTRY__,e=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!e)return g(n);if(!Q(e)||g(e).isOlderThan(B)){const s=g(n).getStackTop();H(e,new y(s.client,m.clone(s.scope)))}return g(e)}catch{return g(n)}}function Q(n){return!!(n&&n.__SENTRY__&&n.__SENTRY__.hub)}function g(n){return J("hub",()=>new y,n)}function H(n,t){if(!n)return!1;const e=n.__SENTRY__=n.__SENTRY__||{};return e.hub=t,!0}export{y as H,_ as S,It as a,qt as b,m as c,X as d,Lt as e,Ht as f,Yt as g,g as h,v as i,V as j,R as k,Pt as l,x as m,k as n,Gt as o,vt as p,Ut as r,Bt as s,Mt as t,O as u};
